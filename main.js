/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/dragNdrop.js":
/*!**************************!*\
  !*** ./src/dragNdrop.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   mouseDown: () => (/* binding */ mouseDown),\n/* harmony export */   mouseUp: () => (/* binding */ mouseUp),\n/* harmony export */   resetXY: () => (/* binding */ resetXY)\n/* harmony export */ });\nlet newX = 0,\r\n  newY = 0,\r\n  startX = 0,\r\n  startY = 0;\r\nlet globalEl;\r\n\r\nfunction mouseDown(e, el) {\r\n  globalEl = el;\r\n  startX = e.clientX;\r\n  startY = e.clientY;\r\n  document.addEventListener(\"mousemove\", mouseMove);\r\n  document.addEventListener(\"mouseup\", (e) => mouseUp(e, el));\r\n}\r\n\r\nfunction mouseMove(e) {\r\n  newX = startX - e.clientX;\r\n  newY = startY - e.clientY;\r\n  startX = e.clientX;\r\n  startY = e.clientY;\r\n  globalEl.style.top = (globalEl.offsetTop - newY )+ \"px\";\r\n  globalEl.style.left = (globalEl.offsetLeft - newX) + \"px\";\r\n}\r\n\r\nfunction mouseUp(e, el) {\r\n  document.removeEventListener(\"mousemove\", mouseMove);\r\n}\r\n\r\nfunction resetXY() {\r\n  (newX = 0), (newY = 0), (startX = 0), (startY = 0);\r\n}\r\n\r\n\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZHJhZ05kcm9wLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUN1QyIsInNvdXJjZXMiOlsid2VicGFjazovL29kaW4tcHJvamVjdC1iYXR0bGVzaGlwLy4vc3JjL2RyYWdOZHJvcC5qcz85YWIxIl0sInNvdXJjZXNDb250ZW50IjpbImxldCBuZXdYID0gMCxcclxuICBuZXdZID0gMCxcclxuICBzdGFydFggPSAwLFxyXG4gIHN0YXJ0WSA9IDA7XHJcbmxldCBnbG9iYWxFbDtcclxuXHJcbmZ1bmN0aW9uIG1vdXNlRG93bihlLCBlbCkge1xyXG4gIGdsb2JhbEVsID0gZWw7XHJcbiAgc3RhcnRYID0gZS5jbGllbnRYO1xyXG4gIHN0YXJ0WSA9IGUuY2xpZW50WTtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIG1vdXNlTW92ZSk7XHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgKGUpID0+IG1vdXNlVXAoZSwgZWwpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gbW91c2VNb3ZlKGUpIHtcclxuICBuZXdYID0gc3RhcnRYIC0gZS5jbGllbnRYO1xyXG4gIG5ld1kgPSBzdGFydFkgLSBlLmNsaWVudFk7XHJcbiAgc3RhcnRYID0gZS5jbGllbnRYO1xyXG4gIHN0YXJ0WSA9IGUuY2xpZW50WTtcclxuICBnbG9iYWxFbC5zdHlsZS50b3AgPSAoZ2xvYmFsRWwub2Zmc2V0VG9wIC0gbmV3WSApKyBcInB4XCI7XHJcbiAgZ2xvYmFsRWwuc3R5bGUubGVmdCA9IChnbG9iYWxFbC5vZmZzZXRMZWZ0IC0gbmV3WCkgKyBcInB4XCI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1vdXNlVXAoZSwgZWwpIHtcclxuICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIG1vdXNlTW92ZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlc2V0WFkoKSB7XHJcbiAgKG5ld1ggPSAwKSwgKG5ld1kgPSAwKSwgKHN0YXJ0WCA9IDApLCAoc3RhcnRZID0gMCk7XHJcbn1cclxuXHJcblxyXG5cclxuZXhwb3J0IHsgbW91c2VEb3duLCBtb3VzZVVwLCByZXNldFhZIH07XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/dragNdrop.js\n");

/***/ }),

/***/ "./src/gamestate.js":
/*!**************************!*\
  !*** ./src/gamestate.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   continueButton: () => (/* binding */ continueButton),\n/* harmony export */   gameStart: () => (/* binding */ gameStart),\n/* harmony export */   later: () => (/* binding */ later),\n/* harmony export */   turnState: () => (/* binding */ turnState)\n/* harmony export */ });\n/* harmony import */ var _objectConstructor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./objectConstructor */ \"./src/objectConstructor.js\");\n/* harmony import */ var _objectConstructor__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_objectConstructor__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _render__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./render */ \"./src/render.js\");\n\r\n\r\n\r\n\r\nlet RNG1 = (0,_objectConstructor__WEBPACK_IMPORTED_MODULE_0__.RNGfunc)(10);\r\nlet RNG2 = (0,_objectConstructor__WEBPACK_IMPORTED_MODULE_0__.RNGfunc)(10);\r\n\r\nlet IsAttackSucceed = false;\r\nconst description = document.querySelector(\".description\");\r\n\r\nconst continueButton = () => {\r\n  const input = document.querySelector(\"#name\") || \"player\";\r\n  const prompt = document.querySelector(\".prompt\");\r\n  gameStart(input.value);\r\n  prompt.style.display = \"none\";\r\n};\r\n\r\nasync function gameStart(playername) {\r\n  const player1 = new _objectConstructor__WEBPACK_IMPORTED_MODULE_0__.player(playername);\r\n  const player2 = new _objectConstructor__WEBPACK_IMPORTED_MODULE_0__.player(\"CPU\");\r\n  player1.gameboard.generateShip();\r\n  player2.gameboard.generateShip();\r\n  player1.opponent = player2;\r\n  player2.opponent = player1;\r\n  (0,_render__WEBPACK_IMPORTED_MODULE_1__.renderGameboard)(player1);\r\n  player1.isTurn = true;\r\n}\r\n\r\nasync function turnState(player) {\r\n  if (player.opponent.winCondition() === true) {\r\n    player.isTurn = false;\r\n    player.opponent.isTurn = false;\r\n    const wait = await later(1000, \"continue\");\r\n    description.textContent = player.opponent.name + \" has no more ship\";\r\n    const wait2 = await later(1000, \"continue\");\r\n    description.textContent = player.name + \" Win!\";\r\n    const replay = document.querySelector(\"button.replay\");\r\n    replay.style.opacity = \"100\";\r\n    return;\r\n  } else {\r\n    if (player.isTurn === true && player.opponent.isTurn === false) {\r\n      player.isTurn = false;\r\n      const wait = await later(1000, \"continue\");\r\n      description.textContent = player.opponent.name + \" turn!\";\r\n      player.opponent.isTurn = true;\r\n    }\r\n    if (player.opponent.name == \"CPU\") {\r\n      description.textContent = \"CPU turn!\";\r\n      player.isTurn = false;\r\n      const wait = await later(600, \"continue\");\r\n      CPUturn(player.opponent);\r\n    }\r\n  }\r\n}\r\n\r\nasync function CPUturn(player) {\r\n  if (IsAttackSucceed == true) {\r\n    while (player.enemyboard.myBoard[RNG1][RNG2][0]) {\r\n      switch ((0,_objectConstructor__WEBPACK_IMPORTED_MODULE_0__.RNGfunc)(4)) {\r\n        case 0:\r\n          if (RNG1 - 1 >= 0) {\r\n            RNG1 = RNG1 - 1;\r\n          }\r\n          break;\r\n        case 1:\r\n          if (RNG2 + 1 < 10) {\r\n            RNG2 = RNG2 + 1;\r\n          }\r\n          break;\r\n        case 2:\r\n          if (RNG1 + 1 < 10) {\r\n            RNG1 = RNG1 + 1;\r\n          }\r\n          break;\r\n        case 3:\r\n          if (RNG2 - 1 >= 0) {\r\n            RNG2 = RNG2 - 1;\r\n          }\r\n          break;\r\n      }\r\n    }\r\n  } else {\r\n    RNG1 = (0,_objectConstructor__WEBPACK_IMPORTED_MODULE_0__.RNGfunc)(10);\r\n    RNG2 = (0,_objectConstructor__WEBPACK_IMPORTED_MODULE_0__.RNGfunc)(10);\r\n  }\r\n\r\n  switch (player.attackTarget(player.opponent, [RNG1, RNG2])) {\r\n    case \"hit\":\r\n      IsAttackSucceed = true;\r\n      description.textContent = \"hit!\";\r\n\r\n      break;\r\n    case \"miss\":\r\n      IsAttackSucceed = false;\r\n      description.textContent = \"miss...\";\r\n      break;\r\n    case \"SUNK!\":\r\n      IsAttackSucceed = false;\r\n      description.textContent = \"A SHIP HAS SUNK!\";\r\n      break;\r\n    case \"invalid\":\r\n      CPUturn(player);\r\n      break;\r\n  }\r\n  (0,_render__WEBPACK_IMPORTED_MODULE_1__.reRender)(\"default\", player.opponent.gameboard);\r\n  turnState(player);\r\n}\r\n\r\nfunction later(delay, value) {\r\n  return new Promise((resolve) => setTimeout(resolve, delay, value));\r\n}\r\n\r\nfunction newd() {}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZ2FtZXN0YXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBOEQ7QUFDVDtBQUNQO0FBQzlDO0FBQ0EsV0FBVywyREFBTztBQUNsQixXQUFXLDJEQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixzREFBTTtBQUM1QixzQkFBc0Isc0RBQU07QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLHdEQUFlO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYywyREFBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixXQUFXLDJEQUFPO0FBQ2xCLFdBQVcsMkRBQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsaURBQVE7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDdUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vZGluLXByb2plY3QtYmF0dGxlc2hpcC8uL3NyYy9nYW1lc3RhdGUuanM/NGE0MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzaGlwLCBnYW1lYm9hcmQsIHBsYXllciB9IGZyb20gXCIuL29iamVjdENvbnN0cnVjdG9yXCI7XHJcbmltcG9ydCB7IHJlUmVuZGVyLCByZW5kZXJHYW1lYm9hcmQgfSBmcm9tIFwiLi9yZW5kZXJcIjtcclxuaW1wb3J0IHsgUk5HZnVuYyB9IGZyb20gXCIuL29iamVjdENvbnN0cnVjdG9yXCI7XHJcblxyXG5sZXQgUk5HMSA9IFJOR2Z1bmMoMTApO1xyXG5sZXQgUk5HMiA9IFJOR2Z1bmMoMTApO1xyXG5cclxubGV0IElzQXR0YWNrU3VjY2VlZCA9IGZhbHNlO1xyXG5jb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZGVzY3JpcHRpb25cIik7XHJcblxyXG5jb25zdCBjb250aW51ZUJ1dHRvbiA9ICgpID0+IHtcclxuICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmFtZVwiKSB8fCBcInBsYXllclwiO1xyXG4gIGNvbnN0IHByb21wdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvbXB0XCIpO1xyXG4gIGdhbWVTdGFydChpbnB1dC52YWx1ZSk7XHJcbiAgcHJvbXB0LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxufTtcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdhbWVTdGFydChwbGF5ZXJuYW1lKSB7XHJcbiAgY29uc3QgcGxheWVyMSA9IG5ldyBwbGF5ZXIocGxheWVybmFtZSk7XHJcbiAgY29uc3QgcGxheWVyMiA9IG5ldyBwbGF5ZXIoXCJDUFVcIik7XHJcbiAgcGxheWVyMS5nYW1lYm9hcmQuZ2VuZXJhdGVTaGlwKCk7XHJcbiAgcGxheWVyMi5nYW1lYm9hcmQuZ2VuZXJhdGVTaGlwKCk7XHJcbiAgcGxheWVyMS5vcHBvbmVudCA9IHBsYXllcjI7XHJcbiAgcGxheWVyMi5vcHBvbmVudCA9IHBsYXllcjE7XHJcbiAgcmVuZGVyR2FtZWJvYXJkKHBsYXllcjEpO1xyXG4gIHBsYXllcjEuaXNUdXJuID0gdHJ1ZTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gdHVyblN0YXRlKHBsYXllcikge1xyXG4gIGlmIChwbGF5ZXIub3Bwb25lbnQud2luQ29uZGl0aW9uKCkgPT09IHRydWUpIHtcclxuICAgIHBsYXllci5pc1R1cm4gPSBmYWxzZTtcclxuICAgIHBsYXllci5vcHBvbmVudC5pc1R1cm4gPSBmYWxzZTtcclxuICAgIGNvbnN0IHdhaXQgPSBhd2FpdCBsYXRlcigxMDAwLCBcImNvbnRpbnVlXCIpO1xyXG4gICAgZGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBwbGF5ZXIub3Bwb25lbnQubmFtZSArIFwiIGhhcyBubyBtb3JlIHNoaXBcIjtcclxuICAgIGNvbnN0IHdhaXQyID0gYXdhaXQgbGF0ZXIoMTAwMCwgXCJjb250aW51ZVwiKTtcclxuICAgIGRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gcGxheWVyLm5hbWUgKyBcIiBXaW4hXCI7XHJcbiAgICBjb25zdCByZXBsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYnV0dG9uLnJlcGxheVwiKTtcclxuICAgIHJlcGxheS5zdHlsZS5vcGFjaXR5ID0gXCIxMDBcIjtcclxuICAgIHJldHVybjtcclxuICB9IGVsc2Uge1xyXG4gICAgaWYgKHBsYXllci5pc1R1cm4gPT09IHRydWUgJiYgcGxheWVyLm9wcG9uZW50LmlzVHVybiA9PT0gZmFsc2UpIHtcclxuICAgICAgcGxheWVyLmlzVHVybiA9IGZhbHNlO1xyXG4gICAgICBjb25zdCB3YWl0ID0gYXdhaXQgbGF0ZXIoMTAwMCwgXCJjb250aW51ZVwiKTtcclxuICAgICAgZGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBwbGF5ZXIub3Bwb25lbnQubmFtZSArIFwiIHR1cm4hXCI7XHJcbiAgICAgIHBsYXllci5vcHBvbmVudC5pc1R1cm4gPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYgKHBsYXllci5vcHBvbmVudC5uYW1lID09IFwiQ1BVXCIpIHtcclxuICAgICAgZGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBcIkNQVSB0dXJuIVwiO1xyXG4gICAgICBwbGF5ZXIuaXNUdXJuID0gZmFsc2U7XHJcbiAgICAgIGNvbnN0IHdhaXQgPSBhd2FpdCBsYXRlcig2MDAsIFwiY29udGludWVcIik7XHJcbiAgICAgIENQVXR1cm4ocGxheWVyLm9wcG9uZW50KTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIENQVXR1cm4ocGxheWVyKSB7XHJcbiAgaWYgKElzQXR0YWNrU3VjY2VlZCA9PSB0cnVlKSB7XHJcbiAgICB3aGlsZSAocGxheWVyLmVuZW15Ym9hcmQubXlCb2FyZFtSTkcxXVtSTkcyXVswXSkge1xyXG4gICAgICBzd2l0Y2ggKFJOR2Z1bmMoNCkpIHtcclxuICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICBpZiAoUk5HMSAtIDEgPj0gMCkge1xyXG4gICAgICAgICAgICBSTkcxID0gUk5HMSAtIDE7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICBpZiAoUk5HMiArIDEgPCAxMCkge1xyXG4gICAgICAgICAgICBSTkcyID0gUk5HMiArIDE7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICBpZiAoUk5HMSArIDEgPCAxMCkge1xyXG4gICAgICAgICAgICBSTkcxID0gUk5HMSArIDE7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICBpZiAoUk5HMiAtIDEgPj0gMCkge1xyXG4gICAgICAgICAgICBSTkcyID0gUk5HMiAtIDE7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICBSTkcxID0gUk5HZnVuYygxMCk7XHJcbiAgICBSTkcyID0gUk5HZnVuYygxMCk7XHJcbiAgfVxyXG5cclxuICBzd2l0Y2ggKHBsYXllci5hdHRhY2tUYXJnZXQocGxheWVyLm9wcG9uZW50LCBbUk5HMSwgUk5HMl0pKSB7XHJcbiAgICBjYXNlIFwiaGl0XCI6XHJcbiAgICAgIElzQXR0YWNrU3VjY2VlZCA9IHRydWU7XHJcbiAgICAgIGRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gXCJoaXQhXCI7XHJcblxyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgXCJtaXNzXCI6XHJcbiAgICAgIElzQXR0YWNrU3VjY2VlZCA9IGZhbHNlO1xyXG4gICAgICBkZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IFwibWlzcy4uLlwiO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgXCJTVU5LIVwiOlxyXG4gICAgICBJc0F0dGFja1N1Y2NlZWQgPSBmYWxzZTtcclxuICAgICAgZGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBcIkEgU0hJUCBIQVMgU1VOSyFcIjtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIFwiaW52YWxpZFwiOlxyXG4gICAgICBDUFV0dXJuKHBsYXllcik7XHJcbiAgICAgIGJyZWFrO1xyXG4gIH1cclxuICByZVJlbmRlcihcImRlZmF1bHRcIiwgcGxheWVyLm9wcG9uZW50LmdhbWVib2FyZCk7XHJcbiAgdHVyblN0YXRlKHBsYXllcik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxhdGVyKGRlbGF5LCB2YWx1ZSkge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCBkZWxheSwgdmFsdWUpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gbmV3ZCgpIHt9XHJcblxyXG5leHBvcnQgeyBnYW1lU3RhcnQsIHR1cm5TdGF0ZSwgY29udGludWVCdXR0b24sIGxhdGVyIH07XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/gamestate.js\n");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   funrack: () => (/* binding */ funrack)\n/* harmony export */ });\n/* harmony import */ var _gamestate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./gamestate */ \"./src/gamestate.js\");\n/* harmony import */ var _dragNdrop__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dragNdrop */ \"./src/dragNdrop.js\");\n\r\n\r\n\r\n\r\nconst title = document.querySelector(\".title\");\r\nconst description = document.querySelector(\".description\")\r\nconst prompt = document.querySelector(\".prompt\");\r\nconst submitButton = document.querySelector(\"button.submit\");\r\nconst gamecontainer = document.querySelector(\".game-container\");\r\nconst body = document.body;\r\nlet constrain = 50;\r\n\r\n\r\ntitle.style.opacity = \"100\";\r\ndescription.style.opacity = \"100\";\r\nprompt.style.opacity = \"100\";\r\ngamecontainer.style.display = \"none\";\r\n\r\n\r\nsubmitButton.addEventListener(\"click\", async () => {\r\n  title.style.opacity = \"0\";\r\n  description.style.opacity = \"0\";\r\n  prompt.style.opacity = \"0\";\r\n  gamecontainer.style.display = \"flex\";\r\n  const move = await (0,_gamestate__WEBPACK_IMPORTED_MODULE_0__.later)(2000, \"continue\");\r\n  (0,_gamestate__WEBPACK_IMPORTED_MODULE_0__.continueButton)();\r\n  description.textContent = \"Drag and drop the ship onto the board!\"\r\n  const move2 = await (0,_gamestate__WEBPACK_IMPORTED_MODULE_0__.later)(500, \"continue\");\r\n  body.removeChild(prompt);\r\n  title.style.opacity = \"100\";\r\n  description.style.opacity = \"100\";\r\n}, {once: true});\r\n\r\nfunrack(prompt, body);\r\n\r\n\r\nfunction funrack(el, elcontainer) {\r\n  elcontainer.addEventListener(\"mousemove\", (e) => {\r\n    let xy = [e.clientX, e.clientY];\r\n    let position = xy.concat([el]);\r\n    window.requestAnimationFrame(function () {\r\n      transformElement(el, position);\r\n    });\r\n  });\r\n\r\n  elcontainer.addEventListener(\"mouseout\", (e) => {\r\n    reset(el);\r\n  });\r\n}\r\n\r\nfunction transforms(x, y, el) {\r\n  let object = el.getBoundingClientRect();\r\n  let calcY = (x - object.x - object.width / 2) / constrain;\r\n  let calcX = -(y - object.y - object.height / 2) / constrain;\r\n  return (\r\n    \"perspective(400px) \" +\r\n    \" rotateY(\" +\r\n    calcY +\r\n    \"deg) \" +\r\n    \"   rotateX(\" +\r\n    calcX +\r\n    \"deg) \"\r\n  );\r\n}\r\n\r\nfunction reset(el) {\r\n  el.style.transform = \"rotateY(0)\" + \" rotateX(0)\";\r\n}\r\nfunction transformElement(el, xyEl) {\r\n  el.style.transform = transforms.apply(null, xyEl);\r\n}\r\n\r\nprompt.addEventListener(\"mousedown\", (e) => (0,_dragNdrop__WEBPACK_IMPORTED_MODULE_1__.mouseDown)(e, prompt));\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXdEO0FBQ3BCO0FBQ2E7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGlEQUFLO0FBQzFCLEVBQUUsMERBQWM7QUFDaEI7QUFDQSxzQkFBc0IsaURBQUs7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxHQUFHLFdBQVc7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxxREFBUztBQUNyRDtBQUNtQiIsInNvdXJjZXMiOlsid2VicGFjazovL29kaW4tcHJvamVjdC1iYXR0bGVzaGlwLy4vc3JjL2luZGV4LmpzP2I2MzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2FtZVN0YXJ0LCBjb250aW51ZUJ1dHRvbiB9IGZyb20gXCIuL2dhbWVzdGF0ZVwiO1xyXG5pbXBvcnQgeyBsYXRlciB9IGZyb20gXCIuL2dhbWVzdGF0ZVwiO1xyXG5pbXBvcnQgeyBtb3VzZURvd24sIG1vdXNlVXAgfSBmcm9tIFwiLi9kcmFnTmRyb3BcIjtcclxuXHJcbmNvbnN0IHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50aXRsZVwiKTtcclxuY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRlc2NyaXB0aW9uXCIpXHJcbmNvbnN0IHByb21wdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvbXB0XCIpO1xyXG5jb25zdCBzdWJtaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYnV0dG9uLnN1Ym1pdFwiKTtcclxuY29uc3QgZ2FtZWNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FtZS1jb250YWluZXJcIik7XHJcbmNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5O1xyXG5sZXQgY29uc3RyYWluID0gNTA7XHJcblxyXG5cclxudGl0bGUuc3R5bGUub3BhY2l0eSA9IFwiMTAwXCI7XHJcbmRlc2NyaXB0aW9uLnN0eWxlLm9wYWNpdHkgPSBcIjEwMFwiO1xyXG5wcm9tcHQuc3R5bGUub3BhY2l0eSA9IFwiMTAwXCI7XHJcbmdhbWVjb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG5cclxuXHJcbnN1Ym1pdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4ge1xyXG4gIHRpdGxlLnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcclxuICBkZXNjcmlwdGlvbi5zdHlsZS5vcGFjaXR5ID0gXCIwXCI7XHJcbiAgcHJvbXB0LnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcclxuICBnYW1lY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcclxuICBjb25zdCBtb3ZlID0gYXdhaXQgbGF0ZXIoMjAwMCwgXCJjb250aW51ZVwiKTtcclxuICBjb250aW51ZUJ1dHRvbigpO1xyXG4gIGRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gXCJEcmFnIGFuZCBkcm9wIHRoZSBzaGlwIG9udG8gdGhlIGJvYXJkIVwiXHJcbiAgY29uc3QgbW92ZTIgPSBhd2FpdCBsYXRlcig1MDAsIFwiY29udGludWVcIik7XHJcbiAgYm9keS5yZW1vdmVDaGlsZChwcm9tcHQpO1xyXG4gIHRpdGxlLnN0eWxlLm9wYWNpdHkgPSBcIjEwMFwiO1xyXG4gIGRlc2NyaXB0aW9uLnN0eWxlLm9wYWNpdHkgPSBcIjEwMFwiO1xyXG59LCB7b25jZTogdHJ1ZX0pO1xyXG5cclxuZnVucmFjayhwcm9tcHQsIGJvZHkpO1xyXG5cclxuXHJcbmZ1bmN0aW9uIGZ1bnJhY2soZWwsIGVsY29udGFpbmVyKSB7XHJcbiAgZWxjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCAoZSkgPT4ge1xyXG4gICAgbGV0IHh5ID0gW2UuY2xpZW50WCwgZS5jbGllbnRZXTtcclxuICAgIGxldCBwb3NpdGlvbiA9IHh5LmNvbmNhdChbZWxdKTtcclxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xyXG4gICAgICB0cmFuc2Zvcm1FbGVtZW50KGVsLCBwb3NpdGlvbik7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZWxjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsIChlKSA9PiB7XHJcbiAgICByZXNldChlbCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRyYW5zZm9ybXMoeCwgeSwgZWwpIHtcclxuICBsZXQgb2JqZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgbGV0IGNhbGNZID0gKHggLSBvYmplY3QueCAtIG9iamVjdC53aWR0aCAvIDIpIC8gY29uc3RyYWluO1xyXG4gIGxldCBjYWxjWCA9IC0oeSAtIG9iamVjdC55IC0gb2JqZWN0LmhlaWdodCAvIDIpIC8gY29uc3RyYWluO1xyXG4gIHJldHVybiAoXHJcbiAgICBcInBlcnNwZWN0aXZlKDQwMHB4KSBcIiArXHJcbiAgICBcIiByb3RhdGVZKFwiICtcclxuICAgIGNhbGNZICtcclxuICAgIFwiZGVnKSBcIiArXHJcbiAgICBcIiAgIHJvdGF0ZVgoXCIgK1xyXG4gICAgY2FsY1ggK1xyXG4gICAgXCJkZWcpIFwiXHJcbiAgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVzZXQoZWwpIHtcclxuICBlbC5zdHlsZS50cmFuc2Zvcm0gPSBcInJvdGF0ZVkoMClcIiArIFwiIHJvdGF0ZVgoMClcIjtcclxufVxyXG5mdW5jdGlvbiB0cmFuc2Zvcm1FbGVtZW50KGVsLCB4eUVsKSB7XHJcbiAgZWwuc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3Jtcy5hcHBseShudWxsLCB4eUVsKTtcclxufVxyXG5cclxucHJvbXB0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGUpID0+IG1vdXNlRG93bihlLCBwcm9tcHQpKTtcclxuXHJcbmV4cG9ydCB7IGZ1bnJhY2sgfTtcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ }),

/***/ "./src/objectConstructor.js":
/*!**********************************!*\
  !*** ./src/objectConstructor.js ***!
  \**********************************/
/***/ ((module) => {

eval("class ship {\r\n  constructor(name, length) {\r\n    this.name = name;\r\n    this.length = length;\r\n    this.hitAmount = 0;\r\n    this.sunk = false;\r\n  }\r\n\r\n  hit() {\r\n    if (this.sunk == true) {\r\n      return \"already sunk\";\r\n    }\r\n    this.hitAmount += 1;\r\n    this.isSunk();\r\n  }\r\n\r\n  isSunk() {\r\n    if (this.hitAmount == this.length) {\r\n      this.sunk = true;\r\n    }\r\n    return this.sunk;\r\n  }\r\n}\r\n\r\nclass gameboard {\r\n  constructor() {\r\n    this.myBoard = [\r\n      [[], [], [], [], [], [], [], [], [], []],\r\n      [[], [], [], [], [], [], [], [], [], []],\r\n      [[], [], [], [], [], [], [], [], [], []],\r\n      [[], [], [], [], [], [], [], [], [], []],\r\n      [[], [], [], [], [], [], [], [], [], []],\r\n      [[], [], [], [], [], [], [], [], [], []],\r\n      [[], [], [], [], [], [], [], [], [], []],\r\n      [[], [], [], [], [], [], [], [], [], []],\r\n      [[], [], [], [], [], [], [], [], [], []],\r\n      [[], [], [], [], [], [], [], [], [], []],\r\n    ];\r\n    this.numberofShips = 0;\r\n    this.sunkShips = 0;\r\n    this.listOfShips = [];\r\n  }\r\n\r\n  receiveAttack(array) {\r\n    if (array[0] > 9 || array[0] < 0 || array[1] > 9 || array[1] < 0) {\r\n      return \"invalid\";\r\n    }\r\n    if (this.myBoard[array[0]][array[1]] instanceof ship) {\r\n      this.myBoard[array[0]][array[1]].hit();\r\n      if (this.myBoard[array[0]][array[1]].sunk == true) {\r\n        this.sunkShips += 1;\r\n        this.myBoard[array[0]][array[1]] = \"!\";\r\n        return \"SUNK!\";\r\n      }\r\n      this.myBoard[array[0]][array[1]] = \"O\";\r\n      return \"hit\";\r\n    } else {\r\n      this.myBoard[array[0]][array[1]] = \"X\";\r\n      return \"miss\";\r\n    }\r\n  }\r\n\r\n  generateShip() {\r\n    const ship1 = new ship(\"ship1\", 4);\r\n    const ship2 = new ship(\"ship2\", 1);\r\n    const ship3 = new ship(\"ship3\", 2);\r\n    const ship4 = new ship(\"ship4\", 3);\r\n\r\n    this.listOfShips.push(ship1);\r\n    this.listOfShips.push(ship2);\r\n    this.listOfShips.push(ship3);\r\n    this.listOfShips.push(ship4);\r\n\r\n    this.updateNumberofShip();\r\n  }\r\n\r\n  randomShipPlacement(array) {\r\n    array.forEach((element) => {\r\n      let direction = \"horizontal\";\r\n      let RNG1 = RNGfunc(10);\r\n      let RNG2 = RNGfunc(10);\r\n      let RNGBool = RNGfunc(2);\r\n\r\n      if (RNGBool == 1) {\r\n        direction = \"vertical\";\r\n      }\r\n\r\n      for (let i = 0; i < element.length; i++) {\r\n        if (direction == \"vertical\") {\r\n          while (\r\n            this.myBoard[RNG1][RNG2] instanceof ship ||\r\n            this.myBoard[RNG1 + i][RNG2] instanceof ship ||\r\n            RNG1 - 1 + element.length >= 10\r\n          ) {\r\n            RNG1 = RNGfunc(10);\r\n            RNG2 = RNGfunc(10);\r\n          }\r\n        } else if (direction == \"horizontal\") {\r\n          while (\r\n            this.myBoard[RNG1][RNG2] instanceof ship ||\r\n            this.myBoard[RNG1][RNG2 + i] instanceof ship ||\r\n            RNG2 - 1 + element.length >= 10\r\n          ) {\r\n            RNG1 = RNGfunc(10);\r\n            RNG2 = RNGfunc(10);\r\n          }\r\n        }\r\n      }\r\n\r\n      if (direction == \"vertical\") {\r\n        for (let i = 0; i < element.length; i++) {\r\n          this.myBoard[RNG1 + i][RNG2] = element;\r\n        }\r\n      } else if (direction == \"horizontal\") {\r\n        for (let i = 0; i < element.length; i++) {\r\n          this.myBoard[RNG1][RNG2 + i] = element;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  updateNumberofShip() {\r\n    this.numberofShips = this.listOfShips.length;\r\n  }\r\n\r\n  updateCoordinate(ship, i, n) {\r\n    this.myBoard[i][n] = ship;\r\n  }\r\n}\r\n\r\nclass player {\r\n  constructor(name) {\r\n    this.name = name;\r\n    this.gameboard = new gameboard();\r\n    this.enemyboard = new gameboard();\r\n    this.opponent = null;\r\n    this.isTurn = false;\r\n    this.attackList = [];\r\n  }\r\n  attackTarget(player, coordinates) {\r\n    if (this.enemyboard.myBoard[coordinates[0]][coordinates[1]] == \"\") {\r\n      const result = player.gameboard.receiveAttack(coordinates);\r\n      if (result === \"hit\") {\r\n        this.enemyboard.myBoard[coordinates[0]][coordinates[1]].push(\"O\");\r\n        return \"hit\";\r\n      } else if (result === \"miss\") {\r\n        this.enemyboard.myBoard[coordinates[0]][coordinates[1]].push(\"X\");\r\n        return \"miss\";\r\n      } else if (result === \"SUNK!\") {\r\n        this.enemyboard.myBoard[coordinates[0]][coordinates[1]].push(\"!\");\r\n        return \"SUNK!\";\r\n      } else {\r\n        return \"invalid\";\r\n      }\r\n    } else {\r\n      return \"invalid\";\r\n    }\r\n  }\r\n\r\n  winCondition() {\r\n    return this.gameboard.numberofShips === this.gameboard.sunkShips;\r\n  }\r\n}\r\n\r\nfunction RNGfunc(number) {\r\n  return Math.floor(Math.random() * number);\r\n}\r\n\r\nfunction check(value, index, array) {\r\n  return value;\r\n}\r\n\r\nmodule.exports = {\r\n  ship,\r\n  gameboard,\r\n  player,\r\n  RNGfunc,\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvb2JqZWN0Q29uc3RydWN0b3IuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isb0JBQW9CO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isb0JBQW9CO0FBQzVDO0FBQ0E7QUFDQSxRQUFRO0FBQ1Isd0JBQXdCLG9CQUFvQjtBQUM1QztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2Rpbi1wcm9qZWN0LWJhdHRsZXNoaXAvLi9zcmMvb2JqZWN0Q29uc3RydWN0b3IuanM/NjA4NyJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBzaGlwIHtcclxuICBjb25zdHJ1Y3RvcihuYW1lLCBsZW5ndGgpIHtcclxuICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcclxuICAgIHRoaXMuaGl0QW1vdW50ID0gMDtcclxuICAgIHRoaXMuc3VuayA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgaGl0KCkge1xyXG4gICAgaWYgKHRoaXMuc3VuayA9PSB0cnVlKSB7XHJcbiAgICAgIHJldHVybiBcImFscmVhZHkgc3Vua1wiO1xyXG4gICAgfVxyXG4gICAgdGhpcy5oaXRBbW91bnQgKz0gMTtcclxuICAgIHRoaXMuaXNTdW5rKCk7XHJcbiAgfVxyXG5cclxuICBpc1N1bmsoKSB7XHJcbiAgICBpZiAodGhpcy5oaXRBbW91bnQgPT0gdGhpcy5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5zdW5rID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLnN1bms7XHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBnYW1lYm9hcmQge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5teUJvYXJkID0gW1xyXG4gICAgICBbW10sIFtdLCBbXSwgW10sIFtdLCBbXSwgW10sIFtdLCBbXSwgW11dLFxyXG4gICAgICBbW10sIFtdLCBbXSwgW10sIFtdLCBbXSwgW10sIFtdLCBbXSwgW11dLFxyXG4gICAgICBbW10sIFtdLCBbXSwgW10sIFtdLCBbXSwgW10sIFtdLCBbXSwgW11dLFxyXG4gICAgICBbW10sIFtdLCBbXSwgW10sIFtdLCBbXSwgW10sIFtdLCBbXSwgW11dLFxyXG4gICAgICBbW10sIFtdLCBbXSwgW10sIFtdLCBbXSwgW10sIFtdLCBbXSwgW11dLFxyXG4gICAgICBbW10sIFtdLCBbXSwgW10sIFtdLCBbXSwgW10sIFtdLCBbXSwgW11dLFxyXG4gICAgICBbW10sIFtdLCBbXSwgW10sIFtdLCBbXSwgW10sIFtdLCBbXSwgW11dLFxyXG4gICAgICBbW10sIFtdLCBbXSwgW10sIFtdLCBbXSwgW10sIFtdLCBbXSwgW11dLFxyXG4gICAgICBbW10sIFtdLCBbXSwgW10sIFtdLCBbXSwgW10sIFtdLCBbXSwgW11dLFxyXG4gICAgICBbW10sIFtdLCBbXSwgW10sIFtdLCBbXSwgW10sIFtdLCBbXSwgW11dLFxyXG4gICAgXTtcclxuICAgIHRoaXMubnVtYmVyb2ZTaGlwcyA9IDA7XHJcbiAgICB0aGlzLnN1bmtTaGlwcyA9IDA7XHJcbiAgICB0aGlzLmxpc3RPZlNoaXBzID0gW107XHJcbiAgfVxyXG5cclxuICByZWNlaXZlQXR0YWNrKGFycmF5KSB7XHJcbiAgICBpZiAoYXJyYXlbMF0gPiA5IHx8IGFycmF5WzBdIDwgMCB8fCBhcnJheVsxXSA+IDkgfHwgYXJyYXlbMV0gPCAwKSB7XHJcbiAgICAgIHJldHVybiBcImludmFsaWRcIjtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLm15Qm9hcmRbYXJyYXlbMF1dW2FycmF5WzFdXSBpbnN0YW5jZW9mIHNoaXApIHtcclxuICAgICAgdGhpcy5teUJvYXJkW2FycmF5WzBdXVthcnJheVsxXV0uaGl0KCk7XHJcbiAgICAgIGlmICh0aGlzLm15Qm9hcmRbYXJyYXlbMF1dW2FycmF5WzFdXS5zdW5rID09IHRydWUpIHtcclxuICAgICAgICB0aGlzLnN1bmtTaGlwcyArPSAxO1xyXG4gICAgICAgIHRoaXMubXlCb2FyZFthcnJheVswXV1bYXJyYXlbMV1dID0gXCIhXCI7XHJcbiAgICAgICAgcmV0dXJuIFwiU1VOSyFcIjtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLm15Qm9hcmRbYXJyYXlbMF1dW2FycmF5WzFdXSA9IFwiT1wiO1xyXG4gICAgICByZXR1cm4gXCJoaXRcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMubXlCb2FyZFthcnJheVswXV1bYXJyYXlbMV1dID0gXCJYXCI7XHJcbiAgICAgIHJldHVybiBcIm1pc3NcIjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdlbmVyYXRlU2hpcCgpIHtcclxuICAgIGNvbnN0IHNoaXAxID0gbmV3IHNoaXAoXCJzaGlwMVwiLCA0KTtcclxuICAgIGNvbnN0IHNoaXAyID0gbmV3IHNoaXAoXCJzaGlwMlwiLCAxKTtcclxuICAgIGNvbnN0IHNoaXAzID0gbmV3IHNoaXAoXCJzaGlwM1wiLCAyKTtcclxuICAgIGNvbnN0IHNoaXA0ID0gbmV3IHNoaXAoXCJzaGlwNFwiLCAzKTtcclxuXHJcbiAgICB0aGlzLmxpc3RPZlNoaXBzLnB1c2goc2hpcDEpO1xyXG4gICAgdGhpcy5saXN0T2ZTaGlwcy5wdXNoKHNoaXAyKTtcclxuICAgIHRoaXMubGlzdE9mU2hpcHMucHVzaChzaGlwMyk7XHJcbiAgICB0aGlzLmxpc3RPZlNoaXBzLnB1c2goc2hpcDQpO1xyXG5cclxuICAgIHRoaXMudXBkYXRlTnVtYmVyb2ZTaGlwKCk7XHJcbiAgfVxyXG5cclxuICByYW5kb21TaGlwUGxhY2VtZW50KGFycmF5KSB7XHJcbiAgICBhcnJheS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XHJcbiAgICAgIGxldCBkaXJlY3Rpb24gPSBcImhvcml6b250YWxcIjtcclxuICAgICAgbGV0IFJORzEgPSBSTkdmdW5jKDEwKTtcclxuICAgICAgbGV0IFJORzIgPSBSTkdmdW5jKDEwKTtcclxuICAgICAgbGV0IFJOR0Jvb2wgPSBSTkdmdW5jKDIpO1xyXG5cclxuICAgICAgaWYgKFJOR0Jvb2wgPT0gMSkge1xyXG4gICAgICAgIGRpcmVjdGlvbiA9IFwidmVydGljYWxcIjtcclxuICAgICAgfVxyXG5cclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSBcInZlcnRpY2FsXCIpIHtcclxuICAgICAgICAgIHdoaWxlIChcclxuICAgICAgICAgICAgdGhpcy5teUJvYXJkW1JORzFdW1JORzJdIGluc3RhbmNlb2Ygc2hpcCB8fFxyXG4gICAgICAgICAgICB0aGlzLm15Qm9hcmRbUk5HMSArIGldW1JORzJdIGluc3RhbmNlb2Ygc2hpcCB8fFxyXG4gICAgICAgICAgICBSTkcxIC0gMSArIGVsZW1lbnQubGVuZ3RoID49IDEwXHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgUk5HMSA9IFJOR2Z1bmMoMTApO1xyXG4gICAgICAgICAgICBSTkcyID0gUk5HZnVuYygxMCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gXCJob3Jpem9udGFsXCIpIHtcclxuICAgICAgICAgIHdoaWxlIChcclxuICAgICAgICAgICAgdGhpcy5teUJvYXJkW1JORzFdW1JORzJdIGluc3RhbmNlb2Ygc2hpcCB8fFxyXG4gICAgICAgICAgICB0aGlzLm15Qm9hcmRbUk5HMV1bUk5HMiArIGldIGluc3RhbmNlb2Ygc2hpcCB8fFxyXG4gICAgICAgICAgICBSTkcyIC0gMSArIGVsZW1lbnQubGVuZ3RoID49IDEwXHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgUk5HMSA9IFJOR2Z1bmMoMTApO1xyXG4gICAgICAgICAgICBSTkcyID0gUk5HZnVuYygxMCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZGlyZWN0aW9uID09IFwidmVydGljYWxcIikge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgdGhpcy5teUJvYXJkW1JORzEgKyBpXVtSTkcyXSA9IGVsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PSBcImhvcml6b250YWxcIikge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgdGhpcy5teUJvYXJkW1JORzFdW1JORzIgKyBpXSA9IGVsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZU51bWJlcm9mU2hpcCgpIHtcclxuICAgIHRoaXMubnVtYmVyb2ZTaGlwcyA9IHRoaXMubGlzdE9mU2hpcHMubGVuZ3RoO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlQ29vcmRpbmF0ZShzaGlwLCBpLCBuKSB7XHJcbiAgICB0aGlzLm15Qm9hcmRbaV1bbl0gPSBzaGlwO1xyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgcGxheWVyIHtcclxuICBjb25zdHJ1Y3RvcihuYW1lKSB7XHJcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgdGhpcy5nYW1lYm9hcmQgPSBuZXcgZ2FtZWJvYXJkKCk7XHJcbiAgICB0aGlzLmVuZW15Ym9hcmQgPSBuZXcgZ2FtZWJvYXJkKCk7XHJcbiAgICB0aGlzLm9wcG9uZW50ID0gbnVsbDtcclxuICAgIHRoaXMuaXNUdXJuID0gZmFsc2U7XHJcbiAgICB0aGlzLmF0dGFja0xpc3QgPSBbXTtcclxuICB9XHJcbiAgYXR0YWNrVGFyZ2V0KHBsYXllciwgY29vcmRpbmF0ZXMpIHtcclxuICAgIGlmICh0aGlzLmVuZW15Ym9hcmQubXlCb2FyZFtjb29yZGluYXRlc1swXV1bY29vcmRpbmF0ZXNbMV1dID09IFwiXCIpIHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gcGxheWVyLmdhbWVib2FyZC5yZWNlaXZlQXR0YWNrKGNvb3JkaW5hdGVzKTtcclxuICAgICAgaWYgKHJlc3VsdCA9PT0gXCJoaXRcIikge1xyXG4gICAgICAgIHRoaXMuZW5lbXlib2FyZC5teUJvYXJkW2Nvb3JkaW5hdGVzWzBdXVtjb29yZGluYXRlc1sxXV0ucHVzaChcIk9cIik7XHJcbiAgICAgICAgcmV0dXJuIFwiaGl0XCI7XHJcbiAgICAgIH0gZWxzZSBpZiAocmVzdWx0ID09PSBcIm1pc3NcIikge1xyXG4gICAgICAgIHRoaXMuZW5lbXlib2FyZC5teUJvYXJkW2Nvb3JkaW5hdGVzWzBdXVtjb29yZGluYXRlc1sxXV0ucHVzaChcIlhcIik7XHJcbiAgICAgICAgcmV0dXJuIFwibWlzc1wiO1xyXG4gICAgICB9IGVsc2UgaWYgKHJlc3VsdCA9PT0gXCJTVU5LIVwiKSB7XHJcbiAgICAgICAgdGhpcy5lbmVteWJvYXJkLm15Qm9hcmRbY29vcmRpbmF0ZXNbMF1dW2Nvb3JkaW5hdGVzWzFdXS5wdXNoKFwiIVwiKTtcclxuICAgICAgICByZXR1cm4gXCJTVU5LIVwiO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBcImludmFsaWRcIjtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIFwiaW52YWxpZFwiO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgd2luQ29uZGl0aW9uKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZ2FtZWJvYXJkLm51bWJlcm9mU2hpcHMgPT09IHRoaXMuZ2FtZWJvYXJkLnN1bmtTaGlwcztcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFJOR2Z1bmMobnVtYmVyKSB7XHJcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG51bWJlcik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoZWNrKHZhbHVlLCBpbmRleCwgYXJyYXkpIHtcclxuICByZXR1cm4gdmFsdWU7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIHNoaXAsXHJcbiAgZ2FtZWJvYXJkLFxyXG4gIHBsYXllcixcclxuICBSTkdmdW5jLFxyXG59O1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/objectConstructor.js\n");

/***/ }),

/***/ "./src/render.js":
/*!***********************!*\
  !*** ./src/render.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   reRender: () => (/* binding */ reRender),\n/* harmony export */   renderGameboard: () => (/* binding */ renderGameboard)\n/* harmony export */ });\n/* harmony import */ var _objectConstructor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./objectConstructor */ \"./src/objectConstructor.js\");\n/* harmony import */ var _objectConstructor__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_objectConstructor__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _gamestate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./gamestate */ \"./src/gamestate.js\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! . */ \"./src/index.js\");\n/* harmony import */ var _dragNdrop__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./dragNdrop */ \"./src/dragNdrop.js\");\n/* harmony import */ var _rotate_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./rotate.svg */ \"./src/rotate.svg\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst main = document.querySelector(\".main\");\r\nconst gameboardNode = document.querySelector(\"div.game-container\");\r\nconst header = document.querySelector(\".header\");\r\nconst description = document.querySelector(\".description\");\r\n\r\nasync function renderGameboard(player) {\r\n  if (gameboardNode.hasChildNodes()) {\r\n    while (gameboardNode.hasChildNodes()) {\r\n      gameboardNode.removeChild(gameboardNode.lastChild);\r\n    }\r\n  }\r\n  const resetButton = document.createElement(\"button\");\r\n  resetButton.textContent = \"RESET\";\r\n  resetButton.classList.add(\"activate\");\r\n  resetButton.classList.add(\"reset\");\r\n  resetButton.addEventListener(\"click\", () => {\r\n    resetLayout(player);\r\n  });\r\n\r\n  header.appendChild(resetButton);\r\n  await renderEmptyBoard(player);\r\n  await renderSelection(player.gameboard.listOfShips);\r\n\r\n  addStartButton(player);\r\n\r\n  resetButton.style.opacity = \"100\";\r\n  gameboardNode.style.opacity = \"100\";\r\n}\r\n\r\nasync function battleshipGameplay(player) {\r\n  const allButton = document.querySelectorAll(\".activate\");\r\n  for (let i = 0; i < allButton.length; i++) {\r\n    allButton[i].style.opacity = 0;\r\n    gameboardNode.childNodes[i].style.opacity = 0;\r\n  }\r\n  gameboardNode.style.opacity = \"0\";\r\n  header.style.opacity = \"0\";\r\n  const wait = await (0,_gamestate__WEBPACK_IMPORTED_MODULE_1__.later)(2000, \"continue\");\r\n  gameboardNode.style.opacity = \"100\";\r\n  header.style.opacity = \"100\";\r\n  for (let i = 0; i < allButton.length; i++) {\r\n    header.removeChild(allButton[i]);\r\n    gameboardNode.removeChild(gameboardNode.firstChild);\r\n  }\r\n\r\n  const opponent = player.opponent;\r\n  opponent.gameboard.randomShipPlacement(opponent.gameboard.listOfShips);\r\n\r\n  await renderDefaultBoard(player);\r\n  await renderEnemyBoard(player);\r\n  description.textContent = \"Choose a box on the enemy board to attack!\";\r\n  replayButton();\r\n}\r\n\r\nasync function resetLayout(player) {\r\n  if (gameboardNode.hasChildNodes()) {\r\n    while (gameboardNode.hasChildNodes()) {\r\n      gameboardNode.removeChild(gameboardNode.firstChild);\r\n    }\r\n  }\r\n  await renderEmptyBoard(player);\r\n  await renderSelection(player.gameboard.listOfShips);\r\n  const startButton = document.querySelector(\"button.start\");\r\n  if (startButton.style.display !== \"none\") {\r\n    startButton.style.display = \"none\";\r\n  }\r\n}\r\n\r\nasync function renderDefaultBoard(player) {\r\n  const gridcontainer = document.createElement(\"div\");\r\n  gridcontainer.classList.add(\"grid-container\");\r\n  gridcontainer.setAttribute(\"id\", \"my-board\");\r\n  gridcontainer.style.left = \"10%\";\r\n  gridcontainer.style.top = \"30%\";\r\n\r\n  (0,___WEBPACK_IMPORTED_MODULE_2__.funrack)(gridcontainer, gameboardNode);\r\n  gridcontainer.addEventListener(\"mousedown\", (e) =>\r\n    (0,_dragNdrop__WEBPACK_IMPORTED_MODULE_3__.mouseDown)(e, gridcontainer)\r\n  );\r\n  (0,_dragNdrop__WEBPACK_IMPORTED_MODULE_3__.resetXY)();\r\n\r\n  player.gameboard.myBoard.forEach((row, rowid) => {\r\n    row.forEach((box, boxid) => {\r\n      const button = document.createElement(\"button\");\r\n      button.classList.add(\"grid-button\");\r\n      button.id = \"default\" + rowid.toString() + boxid.toString();\r\n      colorIndicator(box[0], button);\r\n\r\n      if (box instanceof _objectConstructor__WEBPACK_IMPORTED_MODULE_0__.ship) {\r\n        button.classList.add(\"grid-button-ship\");\r\n        gridcontainer.appendChild(button);\r\n      }\r\n      gridcontainer.appendChild(button);\r\n    });\r\n  });\r\n  gameboardNode.appendChild(gridcontainer);\r\n}\r\n\r\nfunction replacableBlock(el) {\r\n  el.addEventListener(\"dragover\", (e) => {\r\n    e.preventDefault();\r\n  });\r\n\r\n  el.addEventListener(\"dragleave\", dragleave);\r\n\r\n  function dragleave() {\r\n    el.classList.remove(\"grid-button-ship\");\r\n  }\r\n}\r\n\r\nasync function renderEmptyBoard(player) {\r\n  const gridcontainer = document.createElement(\"div\");\r\n  gridcontainer.classList.add(\"grid-container\");\r\n  gridcontainer.setAttribute(\"id\", \"my-board\");\r\n  gridcontainer.style.left = \"10%\";\r\n  gridcontainer.style.top = \"30%\";\r\n  (0,___WEBPACK_IMPORTED_MODULE_2__.funrack)(gridcontainer, gameboardNode);\r\n\r\n  gridcontainer.addEventListener(\"mousedown\", (e) =>\r\n    (0,_dragNdrop__WEBPACK_IMPORTED_MODULE_3__.mouseDown)(e, gridcontainer)\r\n  );\r\n\r\n  for (let i = 0; i < 10; i++) {\r\n    for (let n = 0; n < 10; n++) {\r\n      const button = document.createElement(\"button\");\r\n      button.classList.add(\"grid-button\");\r\n      button.id = \"empty\" + i.toString() + n.toString();\r\n      gridcontainer.appendChild(button);\r\n      button.addEventListener(\"drop\", (e) => {\r\n        button.classList.remove(\"grid-button-ship\");\r\n        onDrop(e, i, n);\r\n      });\r\n      replacableBlock(button);\r\n    }\r\n    gameboardNode.appendChild(gridcontainer);\r\n  }\r\n}\r\n\r\nfunction onDrop(e, i, n) {\r\n  //i and n is the index of the current block that activate the function\r\n  e.preventDefault();\r\n  let isValid = true;\r\n  const replacements = document.querySelectorAll(\".selected\");\r\n  replacements.forEach((selectedEl, selectedElindex) => {\r\n    selectedEl.classList.remove(\"selected\");\r\n    selectedEl.classList.remove(\"drag\");\r\n  });\r\n  //chheck if there is there is already a ship or out of bound\r\n  for (let elIndex = 0; elIndex < replacements.length; elIndex++) {\r\n    const el = replacements[elIndex];\r\n    const classArray = el.className.split(\" \");\r\n    if (el.classList.contains(\"horizontal\")) {\r\n      const currentn = n + elIndex;\r\n      const checkbutton = document.querySelector(\r\n        \"#empty\" + i.toString() + currentn.toString()\r\n      );\r\n      if (\r\n        !checkbutton ||\r\n        n - 1 + replacements.length >= 10 ||\r\n        (!checkbutton.classList.contains(classArray[2]) &&\r\n          checkbutton.classList.contains(\"horizontal\")) ||\r\n        (!checkbutton.classList.contains(classArray[2]) &&\r\n          checkbutton.classList.contains(\"vertical\"))\r\n      ) {\r\n        isValid = false;\r\n        break;\r\n      }\r\n    }\r\n    if (el.classList.contains(\"vertical\")) {\r\n      const currenti = i + elIndex;\r\n      const checkbutton = document.querySelector(\r\n        \"#empty\" + currenti.toString() + n.toString()\r\n      );\r\n      if (\r\n        !checkbutton ||\r\n        i - 1 + replacements.length >= 10 ||\r\n        (!checkbutton.classList.contains(classArray[2]) &&\r\n          checkbutton.classList.contains(\"horizontal\")) ||\r\n        (!checkbutton.classList.contains(classArray[2]) &&\r\n          checkbutton.classList.contains(\"vertical\"))\r\n      ) {\r\n        isValid = false;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  if (isValid) {\r\n    replacements.forEach((selectedEl, selectedElindex) => {\r\n      selectedEl.classList.remove(\"selected\");\r\n      selectedEl.classList.remove(\"drag\");\r\n      //replace the current block with replacements\r\n      AdjustableShipOnEmptyBoard(selectedEl, selectedElindex, i, n);\r\n\r\n      //reset the replacements with normal, replaceable block\r\n      selectedEl.setAttribute(\"class\", \"grid-button\");\r\n      selectedEl.draggable = false;\r\n\r\n      let blockid = selectedEl.id;\r\n      let arrayID = blockid.split(\"\");\r\n      if (arrayID.includes(\"e\") && arrayID.includes(\"m\")) {\r\n        replacableBlock(selectedEl);\r\n        // if (selectedEl.hasChildNodes()) {\r\n        //   selectedEl.removeChild(selectedEl.firstChild);\r\n        // }\r\n        selectedEl.addEventListener(\"drop\", (t) => {\r\n          onDrop(\r\n            t,\r\n            Number(arrayID[arrayID.length - 2]),\r\n            Number(arrayID[arrayID.length - 1])\r\n          );\r\n        });\r\n      }\r\n    });\r\n  }\r\n  const result = checkSelectionBoard();\r\n  if (result == true) {\r\n    const startButton = document.querySelector(\".start\");\r\n    startButton.style.display = \"block\";\r\n    startButton.style.opacity = \"100\";\r\n  }\r\n}\r\n//render the ship\r\nfunction AdjustableShipOnEmptyBoard(ship, shipindex, i, n, length) {\r\n  let shipName = ship.className;\r\n  let nameArray = shipName.split(\" \");\r\n  let currentButton;\r\n  const rotateButton = document.querySelector(\"img.rotate\" + nameArray[2]);\r\n\r\n  if (nameArray[3] == \"horizontal\") {\r\n    currentButton = document.querySelector(\r\n      \"#empty\" + i.toString() + (n + shipindex).toString()\r\n    );\r\n  } else {\r\n    currentButton = document.querySelector(\r\n      \"#empty\" + (i + shipindex).toString() + n.toString()\r\n    );\r\n  }\r\n  const newButton = currentButton.cloneNode(true);\r\n  currentButton.replaceWith(newButton);\r\n  newButton.setAttribute(\"class\", shipName);\r\n\r\n  const hover = () => {\r\n    const ships = document.querySelectorAll(\".\" + nameArray[2]);\r\n    ships.forEach((element, shipindex) => {\r\n      element.classList.add(\"hover\");\r\n    });\r\n  };\r\n  const removehover = () => {\r\n    const ships = document.querySelectorAll(\".\" + nameArray[2]);\r\n    ships.forEach((element, shipindex) => {\r\n      element.classList.remove(\"hover\");\r\n    });\r\n  };\r\n\r\n  if (shipindex == 0) {\r\n    const rotateButtonShip = document.querySelector(\r\n      \"img.rotate\" + nameArray[2]\r\n    );\r\n    if (rotateButton) {\r\n      // rotateButton.style.opacity = 0;\r\n      rotateButtonShip.remove();\r\n      rotateButton.remove();\r\n    }\r\n    const rotate = document.createElement(\"img\");\r\n    rotate.src = _rotate_svg__WEBPACK_IMPORTED_MODULE_4__;\r\n    rotate.alt = \"rotate\";\r\n    rotate.classList.add(\"rotate\" + nameArray[2]);\r\n    rotate.style.position = \"relative\";\r\n    rotate.style.opacity = 100;\r\n\r\n    newButton.appendChild(rotate);\r\n    triggerRotate(rotate, i, n, nameArray[2]);\r\n  }\r\n\r\n  newButton.addEventListener(\"mouseenter\", hover);\r\n  newButton.addEventListener(\"mouseleave\", removehover);\r\n\r\n  newButton.addEventListener(\"focusin\", (e) => {\r\n    const ships = document.querySelectorAll(\".\" + nameArray[2]);\r\n    ships.forEach((element) => {\r\n      element.draggable = true;\r\n    });\r\n    newButton.removeEventListener(\"mouseleave\", removehover);\r\n  });\r\n\r\n  newButton.addEventListener(\"focusout\", () => {\r\n    const ships = document.querySelectorAll(\".\" + nameArray[2]);\r\n    ships.forEach((element) => {\r\n      element.classList.remove(\"selected\");\r\n      element.draggable = false;\r\n    });\r\n    newButton.addEventListener(\"mouseleave\", removehover);\r\n  });\r\n\r\n  newButton.addEventListener(\"dragend\", () => {\r\n    const ships = document.querySelectorAll(\".\" + nameArray[2]);\r\n    ships.forEach((element) => {\r\n      element.draggable = true;\r\n      element.classList.remove(\"selected\");\r\n    });\r\n  });\r\n  newButton.addEventListener(\"dragstart\", () => {\r\n    const ships = document.querySelectorAll(\".\" + nameArray[2]);\r\n    ships.forEach((element) => {\r\n      element.draggable = true;\r\n      element.classList.add(\"selected\");\r\n    });\r\n  });\r\n\r\n  newButton.addEventListener(\"mousemove\", _dragNdrop__WEBPACK_IMPORTED_MODULE_3__.mouseUp);\r\n}\r\n\r\nfunction triggerRotate(el, i, n, name) {\r\n  el.addEventListener(\"click\", (e) => {\r\n    const ships = document.querySelectorAll(\".\" + name);\r\n    //check if ships has space to rotate\r\n    for (let shipindex = 0; shipindex < ships.length; shipindex++) {\r\n      const element = ships[shipindex];\r\n      if (element.classList.contains(\"horizontal\")) {\r\n        if (i - 1 + ships.length >= 10) {\r\n          return \"not valid\";\r\n        }\r\n      }\r\n      if (element.classList.contains(\"vertical\")) {\r\n        if (n - 1 + ships.length >= 10) {\r\n          return \"not valid\";\r\n        }\r\n      }\r\n      element.classList.remove(\"hover\");\r\n      switch (element.classList.contains(\"horizontal\")) {\r\n        case true:\r\n          element.classList.remove(\"horizontal\");\r\n          element.classList.add(\"vertical\");\r\n          element.classList.add(\"selected\");\r\n\r\n          break;\r\n\r\n        case false:\r\n          element.classList.remove(\"vertical\");\r\n          element.classList.add(\"horizontal\");\r\n          element.classList.add(\"selected\");\r\n\r\n          break;\r\n      }\r\n    }\r\n    onDrop(e, i, n);\r\n  });\r\n}\r\n\r\nasync function renderSelection(shipList) {\r\n  const gridcontainer = document.createElement(\"div\");\r\n  gridcontainer.classList.add(\"grid-container\");\r\n  gridcontainer.classList.add(\"ship-container\");\r\n  gridcontainer.setAttribute(\"id\", \"my-board\");\r\n  gridcontainer.style.right = \"10%\";\r\n  gridcontainer.style.top = \"30%\";\r\n  (0,___WEBPACK_IMPORTED_MODULE_2__.funrack)(gridcontainer, gameboardNode);\r\n\r\n  gridcontainer.addEventListener(\"mousedown\", (e) =>\r\n    (0,_dragNdrop__WEBPACK_IMPORTED_MODULE_3__.mouseDown)(e, gridcontainer)\r\n  );\r\n\r\n  shipList.forEach((ship) => {\r\n    gridcontainer.appendChild(dragAbleShip(ship));\r\n  });\r\n\r\n  gameboardNode.appendChild(gridcontainer);\r\n}\r\n\r\nfunction dragAbleShip(ship) {\r\n  const shipContainer = document.createElement(\"div\");\r\n  const shipElement = document.createElement(\"div\");\r\n  shipElement.classList.add(\"ship-container-selection\");\r\n\r\n  const rotate = document.createElement(\"img\");\r\n  rotate.src = _rotate_svg__WEBPACK_IMPORTED_MODULE_4__;\r\n  rotate.alt = \"rotate\";\r\n  rotate.style.position = \"relative\";\r\n  shipContainer.appendChild(rotate);\r\n\r\n  for (let i = 0; i < ship.length; i++) {\r\n    const button = document.createElement(\"button\");\r\n    button.classList.add(\"grid-button\");\r\n    button.classList.add(\"grid-button-ship\");\r\n    button.classList.add(ship.name);\r\n    rotate.classList.add(\"rotate\" + ship.name);\r\n    button.classList.add(\"horizontal\");\r\n    button.setAttribute(\"id\", \"selection\" + i);\r\n    shipElement.draggable = true;\r\n    button.addEventListener(\"mousemove\", _dragNdrop__WEBPACK_IMPORTED_MODULE_3__.mouseUp);\r\n\r\n    rotate.addEventListener(\"click\", (e) => {\r\n      switch (button.classList.contains(\"horizontal\")) {\r\n        case true:\r\n          shipElement.style.flexDirection = \"column\";\r\n          shipContainer.style.flexDirection = \"row\";\r\n          button.classList.remove(\"horizontal\");\r\n          button.classList.add(\"vertical\");\r\n\r\n          break;\r\n        case false:\r\n          shipElement.style.flexDirection = \"row\";\r\n          shipContainer.style.flexDirection = \"column\";\r\n          button.classList.remove(\"vertical\");\r\n          button.classList.add(\"horizontal\");\r\n          break;\r\n      }\r\n    });\r\n\r\n    shipContainer.addEventListener(\"mouseenter\", () => {\r\n      rotate.style.opacity = 100;\r\n    });\r\n\r\n    shipContainer.addEventListener(\"mouseleave\", () => {\r\n      rotate.style.opacity = 0;\r\n    });\r\n\r\n    shipElement.addEventListener(\"focusin\", () => {\r\n      button.classList.add(\"hover\");\r\n    });\r\n\r\n    shipElement.addEventListener(\"focusout\", () => {\r\n      button.classList.remove(\"hover\");\r\n    });\r\n\r\n    shipElement.addEventListener(\"dragend\", () => {\r\n      shipElement.classList.remove(\"drag\");\r\n      button.classList.remove(\"selected\");\r\n    });\r\n    shipElement.addEventListener(\"dragstart\", () => {\r\n      shipElement.classList.add(\"drag\");\r\n      button.classList.add(\"selected\");\r\n    });\r\n    shipElement.appendChild(button);\r\n    shipContainer.appendChild(shipElement);\r\n  }\r\n\r\n  return shipContainer;\r\n}\r\n\r\nasync function renderEnemyBoard(player) {\r\n  const gridcontainer = document.createElement(\"div\");\r\n  gridcontainer.style.right = \"10%\";\r\n  gridcontainer.style.top = \"30%\";\r\n  gridcontainer.classList.add(\"grid-container\");\r\n  gridcontainer.setAttribute(\"id\", \"enemy-board\");\r\n  (0,___WEBPACK_IMPORTED_MODULE_2__.funrack)(gridcontainer, gameboardNode);\r\n  gridcontainer.addEventListener(\"mousedown\", (e) =>\r\n    (0,_dragNdrop__WEBPACK_IMPORTED_MODULE_3__.mouseDown)(e, gridcontainer)\r\n  );\r\n  (0,_dragNdrop__WEBPACK_IMPORTED_MODULE_3__.resetXY)();\r\n\r\n  player.enemyboard.myBoard.forEach((row, rowid) => {\r\n    row.forEach((box, boxid) => {\r\n      const button = document.createElement(\"button\");\r\n      button.classList.add(\"grid-button\");\r\n      button.id = \"enemy\" + rowid.toString() + boxid.toString();\r\n      colorIndicator(box[0], button);\r\n\r\n      const cord = [rowid, boxid];\r\n\r\n      const attackonBox = async () => {\r\n        if (player.isTurn === true) {\r\n          switch (player.attackTarget(player.opponent, cord)) {\r\n            case \"hit\":\r\n              description.textContent = \"HIT!\";\r\n              button.textContent = \"O\";\r\n              button.style.backgroundColor = \"var(--hit-color)\";\r\n              button.removeEventListener(\"click\", attackonBox);\r\n              break;\r\n            case \"miss\":\r\n              description.textContent = \"miss...\";\r\n              button.textContent = \"X\";\r\n              button.style.backgroundColor = \"var(--miss-color)\";\r\n              button.removeEventListener(\"click\", attackonBox);\r\n              break;\r\n            case \"SUNK!\":\r\n              description.textContent = \"A SHIP HAS SUNK!\";\r\n              button.textContent = \"!\";\r\n              button.style.backgroundColor = \"var(--hit-color)\";\r\n              button.removeEventListener(\"click\", attackonBox);\r\n              break;\r\n          }\r\n\r\n          reRender(\"enemy\", player.enemyboard);\r\n          (0,_gamestate__WEBPACK_IMPORTED_MODULE_1__.turnState)(player);\r\n        }\r\n      };\r\n      button.addEventListener(\"click\", attackonBox);\r\n      gridcontainer.appendChild(button);\r\n    });\r\n  });\r\n  gameboardNode.appendChild(gridcontainer);\r\n}\r\n\r\nfunction colorIndicator(indicator, element) {\r\n  switch (indicator) {\r\n    case \"O\":\r\n      element.textContent = \"O\";\r\n      element.style.backgroundColor = \"var(--hit-color)\";\r\n      break;\r\n    case \"X\":\r\n      element.textContent = \"X\";\r\n      element.style.backgroundColor = \"var(--miss-color)\";\r\n      break;\r\n    case \"!\":\r\n      element.textContent = \"!\";\r\n      element.style.backgroundColor = \"var(--hit-color)\";\r\n      break;\r\n  }\r\n}\r\n\r\nfunction addStartButton(player) {\r\n  if (document.querySelector(\".start\")) {\r\n    return;\r\n  }\r\n  const button = document.createElement(\"button\");\r\n  button.textContent = \"START\";\r\n  button.classList.add(\"activate\");\r\n  button.classList.add(\"start\");\r\n  button.style.display = \"none\";\r\n  button.addEventListener(\r\n    \"click\",\r\n    () => {\r\n      translateToDefaultBoard(player);\r\n      battleshipGameplay(player);\r\n    },\r\n    { once: true }\r\n  );\r\n  header.appendChild(button);\r\n}\r\n\r\nfunction replayButton() {\r\n  const restart = document.createElement(\"button\");\r\n  restart.textContent = \"REPLAY\";\r\n  restart.classList.add(\"replay\");\r\n  restart.classList.add(\"activate\");\r\n  restart.addEventListener(\"click\", () => {\r\n    window.location.reload();\r\n  });\r\n  header.appendChild(restart);\r\n}\r\n\r\nfunction translateToDefaultBoard(player) {\r\n  player.gameboard.listOfShips.forEach((ship) => {\r\n    const coord = getShipCoordinate(ship);\r\n    for (let i = 0; i < coord.length; i++) {\r\n      player.gameboard.updateCoordinate(ship, coord[i][0], coord[i][1]);\r\n    }\r\n  });\r\n}\r\n\r\nfunction getShipCoordinate(ship) {\r\n  const coordinates = [];\r\n  const ships = document.querySelectorAll(\".\" + ship.name);\r\n  for (let i = 0; i < ships.length; i++) {\r\n    let nameArray = ships[i].id.split(\"\");\r\n    coordinates.push([nameArray[5], nameArray[6]]);\r\n  }\r\n  return coordinates;\r\n}\r\n\r\nfunction checkSelectionBoard() {\r\n  const selectionboard = document.querySelectorAll(\".ship-container-selection\");\r\n  let isEmpty = true;\r\n  for (let i = 0; i < selectionboard.length; i++) {\r\n    const currentContainer = selectionboard[i];\r\n    currentContainer.childNodes.forEach((child) => {\r\n      if (child.classList.contains(\"grid-button-ship\")) {\r\n        isEmpty = false;\r\n      }\r\n    });\r\n  }\r\n  return isEmpty;\r\n}\r\n\r\nfunction reRender(boardString, gameboard) {\r\n  gameboard.myBoard.forEach((row, rowid) => {\r\n    row.forEach((box, boxid) => {\r\n      const button = document.querySelector(\r\n        (\"#\" + boardString + rowid.toString() + boxid.toString()).toString()\r\n      );\r\n      colorIndicator(box, button);\r\n    });\r\n  });\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVuZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQTJDO0FBQ0s7QUFDUjtBQUNaO0FBQzhCO0FBQ2I7QUFDUjtBQUNEO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixzQkFBc0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixpREFBSztBQUMxQjtBQUNBO0FBQ0Esa0JBQWtCLHNCQUFzQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsMENBQU87QUFDVDtBQUNBLElBQUkscURBQVM7QUFDYjtBQUNBLEVBQUUsbURBQU87QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLG9EQUFJO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsMENBQU87QUFDVDtBQUNBO0FBQ0EsSUFBSSxxREFBUztBQUNiO0FBQ0E7QUFDQSxrQkFBa0IsUUFBUTtBQUMxQixvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esd0JBQXdCLCtCQUErQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix3Q0FBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBLDBDQUEwQywrQ0FBTztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsMEJBQTBCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSwwQ0FBTztBQUNUO0FBQ0E7QUFDQSxJQUFJLHFEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHdDQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGlCQUFpQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLCtDQUFPO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsMENBQU87QUFDVDtBQUNBLElBQUkscURBQVM7QUFDYjtBQUNBLEVBQUUsbURBQU87QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUscURBQVM7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrQkFBa0I7QUFDdEM7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGtCQUFrQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsMkJBQTJCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNxQyIsInNvdXJjZXMiOlsid2VicGFjazovL29kaW4tcHJvamVjdC1iYXR0bGVzaGlwLy4vc3JjL3JlbmRlci5qcz8xMWZjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNoaXAgfSBmcm9tIFwiLi9vYmplY3RDb25zdHJ1Y3RvclwiO1xyXG5pbXBvcnQgeyBnYW1lYm9hcmQgfSBmcm9tIFwiLi9vYmplY3RDb25zdHJ1Y3RvclwiO1xyXG5pbXBvcnQgeyB0dXJuU3RhdGUgfSBmcm9tIFwiLi9nYW1lc3RhdGVcIjtcclxuaW1wb3J0IHsgZnVucmFjayB9IGZyb20gXCIuXCI7XHJcbmltcG9ydCB7IG1vdXNlRG93biwgcmVzZXRYWSwgbW91c2VVcCB9IGZyb20gXCIuL2RyYWdOZHJvcFwiO1xyXG5pbXBvcnQgeyBwbGF5ZXIgfSBmcm9tIFwiLi9vYmplY3RDb25zdHJ1Y3RvclwiO1xyXG5pbXBvcnQgcm90YXRlaW1nIGZyb20gXCIuL3JvdGF0ZS5zdmdcIjtcclxuaW1wb3J0IHsgbGF0ZXIgfSBmcm9tIFwiLi9nYW1lc3RhdGVcIjtcclxuXHJcbmNvbnN0IG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW5cIik7XHJcbmNvbnN0IGdhbWVib2FyZE5vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiZGl2LmdhbWUtY29udGFpbmVyXCIpO1xyXG5jb25zdCBoZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlclwiKTtcclxuY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRlc2NyaXB0aW9uXCIpO1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gcmVuZGVyR2FtZWJvYXJkKHBsYXllcikge1xyXG4gIGlmIChnYW1lYm9hcmROb2RlLmhhc0NoaWxkTm9kZXMoKSkge1xyXG4gICAgd2hpbGUgKGdhbWVib2FyZE5vZGUuaGFzQ2hpbGROb2RlcygpKSB7XHJcbiAgICAgIGdhbWVib2FyZE5vZGUucmVtb3ZlQ2hpbGQoZ2FtZWJvYXJkTm9kZS5sYXN0Q2hpbGQpO1xyXG4gICAgfVxyXG4gIH1cclxuICBjb25zdCByZXNldEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgcmVzZXRCdXR0b24udGV4dENvbnRlbnQgPSBcIlJFU0VUXCI7XHJcbiAgcmVzZXRCdXR0b24uY2xhc3NMaXN0LmFkZChcImFjdGl2YXRlXCIpO1xyXG4gIHJlc2V0QnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJyZXNldFwiKTtcclxuICByZXNldEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgcmVzZXRMYXlvdXQocGxheWVyKTtcclxuICB9KTtcclxuXHJcbiAgaGVhZGVyLmFwcGVuZENoaWxkKHJlc2V0QnV0dG9uKTtcclxuICBhd2FpdCByZW5kZXJFbXB0eUJvYXJkKHBsYXllcik7XHJcbiAgYXdhaXQgcmVuZGVyU2VsZWN0aW9uKHBsYXllci5nYW1lYm9hcmQubGlzdE9mU2hpcHMpO1xyXG5cclxuICBhZGRTdGFydEJ1dHRvbihwbGF5ZXIpO1xyXG5cclxuICByZXNldEJ1dHRvbi5zdHlsZS5vcGFjaXR5ID0gXCIxMDBcIjtcclxuICBnYW1lYm9hcmROb2RlLnN0eWxlLm9wYWNpdHkgPSBcIjEwMFwiO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBiYXR0bGVzaGlwR2FtZXBsYXkocGxheWVyKSB7XHJcbiAgY29uc3QgYWxsQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5hY3RpdmF0ZVwiKTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbEJ1dHRvbi5sZW5ndGg7IGkrKykge1xyXG4gICAgYWxsQnV0dG9uW2ldLnN0eWxlLm9wYWNpdHkgPSAwO1xyXG4gICAgZ2FtZWJvYXJkTm9kZS5jaGlsZE5vZGVzW2ldLnN0eWxlLm9wYWNpdHkgPSAwO1xyXG4gIH1cclxuICBnYW1lYm9hcmROb2RlLnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcclxuICBoZWFkZXIuc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xyXG4gIGNvbnN0IHdhaXQgPSBhd2FpdCBsYXRlcigyMDAwLCBcImNvbnRpbnVlXCIpO1xyXG4gIGdhbWVib2FyZE5vZGUuc3R5bGUub3BhY2l0eSA9IFwiMTAwXCI7XHJcbiAgaGVhZGVyLnN0eWxlLm9wYWNpdHkgPSBcIjEwMFwiO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsQnV0dG9uLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBoZWFkZXIucmVtb3ZlQ2hpbGQoYWxsQnV0dG9uW2ldKTtcclxuICAgIGdhbWVib2FyZE5vZGUucmVtb3ZlQ2hpbGQoZ2FtZWJvYXJkTm9kZS5maXJzdENoaWxkKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IG9wcG9uZW50ID0gcGxheWVyLm9wcG9uZW50O1xyXG4gIG9wcG9uZW50LmdhbWVib2FyZC5yYW5kb21TaGlwUGxhY2VtZW50KG9wcG9uZW50LmdhbWVib2FyZC5saXN0T2ZTaGlwcyk7XHJcblxyXG4gIGF3YWl0IHJlbmRlckRlZmF1bHRCb2FyZChwbGF5ZXIpO1xyXG4gIGF3YWl0IHJlbmRlckVuZW15Qm9hcmQocGxheWVyKTtcclxuICBkZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IFwiQ2hvb3NlIGEgYm94IG9uIHRoZSBlbmVteSBib2FyZCB0byBhdHRhY2shXCI7XHJcbiAgcmVwbGF5QnV0dG9uKCk7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHJlc2V0TGF5b3V0KHBsYXllcikge1xyXG4gIGlmIChnYW1lYm9hcmROb2RlLmhhc0NoaWxkTm9kZXMoKSkge1xyXG4gICAgd2hpbGUgKGdhbWVib2FyZE5vZGUuaGFzQ2hpbGROb2RlcygpKSB7XHJcbiAgICAgIGdhbWVib2FyZE5vZGUucmVtb3ZlQ2hpbGQoZ2FtZWJvYXJkTm9kZS5maXJzdENoaWxkKTtcclxuICAgIH1cclxuICB9XHJcbiAgYXdhaXQgcmVuZGVyRW1wdHlCb2FyZChwbGF5ZXIpO1xyXG4gIGF3YWl0IHJlbmRlclNlbGVjdGlvbihwbGF5ZXIuZ2FtZWJvYXJkLmxpc3RPZlNoaXBzKTtcclxuICBjb25zdCBzdGFydEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJidXR0b24uc3RhcnRcIik7XHJcbiAgaWYgKHN0YXJ0QnV0dG9uLnN0eWxlLmRpc3BsYXkgIT09IFwibm9uZVwiKSB7XHJcbiAgICBzdGFydEJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiByZW5kZXJEZWZhdWx0Qm9hcmQocGxheWVyKSB7XHJcbiAgY29uc3QgZ3JpZGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgZ3JpZGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZ3JpZC1jb250YWluZXJcIik7XHJcbiAgZ3JpZGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcIm15LWJvYXJkXCIpO1xyXG4gIGdyaWRjb250YWluZXIuc3R5bGUubGVmdCA9IFwiMTAlXCI7XHJcbiAgZ3JpZGNvbnRhaW5lci5zdHlsZS50b3AgPSBcIjMwJVwiO1xyXG5cclxuICBmdW5yYWNrKGdyaWRjb250YWluZXIsIGdhbWVib2FyZE5vZGUpO1xyXG4gIGdyaWRjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZSkgPT5cclxuICAgIG1vdXNlRG93bihlLCBncmlkY29udGFpbmVyKVxyXG4gICk7XHJcbiAgcmVzZXRYWSgpO1xyXG5cclxuICBwbGF5ZXIuZ2FtZWJvYXJkLm15Qm9hcmQuZm9yRWFjaCgocm93LCByb3dpZCkgPT4ge1xyXG4gICAgcm93LmZvckVhY2goKGJveCwgYm94aWQpID0+IHtcclxuICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJncmlkLWJ1dHRvblwiKTtcclxuICAgICAgYnV0dG9uLmlkID0gXCJkZWZhdWx0XCIgKyByb3dpZC50b1N0cmluZygpICsgYm94aWQudG9TdHJpbmcoKTtcclxuICAgICAgY29sb3JJbmRpY2F0b3IoYm94WzBdLCBidXR0b24pO1xyXG5cclxuICAgICAgaWYgKGJveCBpbnN0YW5jZW9mIHNoaXApIHtcclxuICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZChcImdyaWQtYnV0dG9uLXNoaXBcIik7XHJcbiAgICAgICAgZ3JpZGNvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b24pO1xyXG4gICAgICB9XHJcbiAgICAgIGdyaWRjb250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG4gIGdhbWVib2FyZE5vZGUuYXBwZW5kQ2hpbGQoZ3JpZGNvbnRhaW5lcik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlcGxhY2FibGVCbG9jayhlbCkge1xyXG4gIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnb3ZlclwiLCAoZSkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIH0pO1xyXG5cclxuICBlbC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ2xlYXZlXCIsIGRyYWdsZWF2ZSk7XHJcblxyXG4gIGZ1bmN0aW9uIGRyYWdsZWF2ZSgpIHtcclxuICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoXCJncmlkLWJ1dHRvbi1zaGlwXCIpO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gcmVuZGVyRW1wdHlCb2FyZChwbGF5ZXIpIHtcclxuICBjb25zdCBncmlkY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBncmlkY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJncmlkLWNvbnRhaW5lclwiKTtcclxuICBncmlkY29udGFpbmVyLnNldEF0dHJpYnV0ZShcImlkXCIsIFwibXktYm9hcmRcIik7XHJcbiAgZ3JpZGNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gXCIxMCVcIjtcclxuICBncmlkY29udGFpbmVyLnN0eWxlLnRvcCA9IFwiMzAlXCI7XHJcbiAgZnVucmFjayhncmlkY29udGFpbmVyLCBnYW1lYm9hcmROb2RlKTtcclxuXHJcbiAgZ3JpZGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChlKSA9PlxyXG4gICAgbW91c2VEb3duKGUsIGdyaWRjb250YWluZXIpXHJcbiAgKTtcclxuXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XHJcbiAgICBmb3IgKGxldCBuID0gMDsgbiA8IDEwOyBuKyspIHtcclxuICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJncmlkLWJ1dHRvblwiKTtcclxuICAgICAgYnV0dG9uLmlkID0gXCJlbXB0eVwiICsgaS50b1N0cmluZygpICsgbi50b1N0cmluZygpO1xyXG4gICAgICBncmlkY29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbik7XHJcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiZHJvcFwiLCAoZSkgPT4ge1xyXG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiZ3JpZC1idXR0b24tc2hpcFwiKTtcclxuICAgICAgICBvbkRyb3AoZSwgaSwgbik7XHJcbiAgICAgIH0pO1xyXG4gICAgICByZXBsYWNhYmxlQmxvY2soYnV0dG9uKTtcclxuICAgIH1cclxuICAgIGdhbWVib2FyZE5vZGUuYXBwZW5kQ2hpbGQoZ3JpZGNvbnRhaW5lcik7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBvbkRyb3AoZSwgaSwgbikge1xyXG4gIC8vaSBhbmQgbiBpcyB0aGUgaW5kZXggb2YgdGhlIGN1cnJlbnQgYmxvY2sgdGhhdCBhY3RpdmF0ZSB0aGUgZnVuY3Rpb25cclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgbGV0IGlzVmFsaWQgPSB0cnVlO1xyXG4gIGNvbnN0IHJlcGxhY2VtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2VsZWN0ZWRcIik7XHJcbiAgcmVwbGFjZW1lbnRzLmZvckVhY2goKHNlbGVjdGVkRWwsIHNlbGVjdGVkRWxpbmRleCkgPT4ge1xyXG4gICAgc2VsZWN0ZWRFbC5jbGFzc0xpc3QucmVtb3ZlKFwic2VsZWN0ZWRcIik7XHJcbiAgICBzZWxlY3RlZEVsLmNsYXNzTGlzdC5yZW1vdmUoXCJkcmFnXCIpO1xyXG4gIH0pO1xyXG4gIC8vY2hoZWNrIGlmIHRoZXJlIGlzIHRoZXJlIGlzIGFscmVhZHkgYSBzaGlwIG9yIG91dCBvZiBib3VuZFxyXG4gIGZvciAobGV0IGVsSW5kZXggPSAwOyBlbEluZGV4IDwgcmVwbGFjZW1lbnRzLmxlbmd0aDsgZWxJbmRleCsrKSB7XHJcbiAgICBjb25zdCBlbCA9IHJlcGxhY2VtZW50c1tlbEluZGV4XTtcclxuICAgIGNvbnN0IGNsYXNzQXJyYXkgPSBlbC5jbGFzc05hbWUuc3BsaXQoXCIgXCIpO1xyXG4gICAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucyhcImhvcml6b250YWxcIikpIHtcclxuICAgICAgY29uc3QgY3VycmVudG4gPSBuICsgZWxJbmRleDtcclxuICAgICAgY29uc3QgY2hlY2tidXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgIFwiI2VtcHR5XCIgKyBpLnRvU3RyaW5nKCkgKyBjdXJyZW50bi50b1N0cmluZygpXHJcbiAgICAgICk7XHJcbiAgICAgIGlmIChcclxuICAgICAgICAhY2hlY2tidXR0b24gfHxcclxuICAgICAgICBuIC0gMSArIHJlcGxhY2VtZW50cy5sZW5ndGggPj0gMTAgfHxcclxuICAgICAgICAoIWNoZWNrYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc0FycmF5WzJdKSAmJlxyXG4gICAgICAgICAgY2hlY2tidXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKFwiaG9yaXpvbnRhbFwiKSkgfHxcclxuICAgICAgICAoIWNoZWNrYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc0FycmF5WzJdKSAmJlxyXG4gICAgICAgICAgY2hlY2tidXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKFwidmVydGljYWxcIikpXHJcbiAgICAgICkge1xyXG4gICAgICAgIGlzVmFsaWQgPSBmYWxzZTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucyhcInZlcnRpY2FsXCIpKSB7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRpID0gaSArIGVsSW5kZXg7XHJcbiAgICAgIGNvbnN0IGNoZWNrYnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgICBcIiNlbXB0eVwiICsgY3VycmVudGkudG9TdHJpbmcoKSArIG4udG9TdHJpbmcoKVxyXG4gICAgICApO1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgIWNoZWNrYnV0dG9uIHx8XHJcbiAgICAgICAgaSAtIDEgKyByZXBsYWNlbWVudHMubGVuZ3RoID49IDEwIHx8XHJcbiAgICAgICAgKCFjaGVja2J1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NBcnJheVsyXSkgJiZcclxuICAgICAgICAgIGNoZWNrYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucyhcImhvcml6b250YWxcIikpIHx8XHJcbiAgICAgICAgKCFjaGVja2J1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NBcnJheVsyXSkgJiZcclxuICAgICAgICAgIGNoZWNrYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucyhcInZlcnRpY2FsXCIpKVxyXG4gICAgICApIHtcclxuICAgICAgICBpc1ZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmIChpc1ZhbGlkKSB7XHJcbiAgICByZXBsYWNlbWVudHMuZm9yRWFjaCgoc2VsZWN0ZWRFbCwgc2VsZWN0ZWRFbGluZGV4KSA9PiB7XHJcbiAgICAgIHNlbGVjdGVkRWwuY2xhc3NMaXN0LnJlbW92ZShcInNlbGVjdGVkXCIpO1xyXG4gICAgICBzZWxlY3RlZEVsLmNsYXNzTGlzdC5yZW1vdmUoXCJkcmFnXCIpO1xyXG4gICAgICAvL3JlcGxhY2UgdGhlIGN1cnJlbnQgYmxvY2sgd2l0aCByZXBsYWNlbWVudHNcclxuICAgICAgQWRqdXN0YWJsZVNoaXBPbkVtcHR5Qm9hcmQoc2VsZWN0ZWRFbCwgc2VsZWN0ZWRFbGluZGV4LCBpLCBuKTtcclxuXHJcbiAgICAgIC8vcmVzZXQgdGhlIHJlcGxhY2VtZW50cyB3aXRoIG5vcm1hbCwgcmVwbGFjZWFibGUgYmxvY2tcclxuICAgICAgc2VsZWN0ZWRFbC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImdyaWQtYnV0dG9uXCIpO1xyXG4gICAgICBzZWxlY3RlZEVsLmRyYWdnYWJsZSA9IGZhbHNlO1xyXG5cclxuICAgICAgbGV0IGJsb2NraWQgPSBzZWxlY3RlZEVsLmlkO1xyXG4gICAgICBsZXQgYXJyYXlJRCA9IGJsb2NraWQuc3BsaXQoXCJcIik7XHJcbiAgICAgIGlmIChhcnJheUlELmluY2x1ZGVzKFwiZVwiKSAmJiBhcnJheUlELmluY2x1ZGVzKFwibVwiKSkge1xyXG4gICAgICAgIHJlcGxhY2FibGVCbG9jayhzZWxlY3RlZEVsKTtcclxuICAgICAgICAvLyBpZiAoc2VsZWN0ZWRFbC5oYXNDaGlsZE5vZGVzKCkpIHtcclxuICAgICAgICAvLyAgIHNlbGVjdGVkRWwucmVtb3ZlQ2hpbGQoc2VsZWN0ZWRFbC5maXJzdENoaWxkKTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgc2VsZWN0ZWRFbC5hZGRFdmVudExpc3RlbmVyKFwiZHJvcFwiLCAodCkgPT4ge1xyXG4gICAgICAgICAgb25Ecm9wKFxyXG4gICAgICAgICAgICB0LFxyXG4gICAgICAgICAgICBOdW1iZXIoYXJyYXlJRFthcnJheUlELmxlbmd0aCAtIDJdKSxcclxuICAgICAgICAgICAgTnVtYmVyKGFycmF5SURbYXJyYXlJRC5sZW5ndGggLSAxXSlcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICBjb25zdCByZXN1bHQgPSBjaGVja1NlbGVjdGlvbkJvYXJkKCk7XHJcbiAgaWYgKHJlc3VsdCA9PSB0cnVlKSB7XHJcbiAgICBjb25zdCBzdGFydEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3RhcnRcIik7XHJcbiAgICBzdGFydEJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgc3RhcnRCdXR0b24uc3R5bGUub3BhY2l0eSA9IFwiMTAwXCI7XHJcbiAgfVxyXG59XHJcbi8vcmVuZGVyIHRoZSBzaGlwXHJcbmZ1bmN0aW9uIEFkanVzdGFibGVTaGlwT25FbXB0eUJvYXJkKHNoaXAsIHNoaXBpbmRleCwgaSwgbiwgbGVuZ3RoKSB7XHJcbiAgbGV0IHNoaXBOYW1lID0gc2hpcC5jbGFzc05hbWU7XHJcbiAgbGV0IG5hbWVBcnJheSA9IHNoaXBOYW1lLnNwbGl0KFwiIFwiKTtcclxuICBsZXQgY3VycmVudEJ1dHRvbjtcclxuICBjb25zdCByb3RhdGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiaW1nLnJvdGF0ZVwiICsgbmFtZUFycmF5WzJdKTtcclxuXHJcbiAgaWYgKG5hbWVBcnJheVszXSA9PSBcImhvcml6b250YWxcIikge1xyXG4gICAgY3VycmVudEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiI2VtcHR5XCIgKyBpLnRvU3RyaW5nKCkgKyAobiArIHNoaXBpbmRleCkudG9TdHJpbmcoKVxyXG4gICAgKTtcclxuICB9IGVsc2Uge1xyXG4gICAgY3VycmVudEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiI2VtcHR5XCIgKyAoaSArIHNoaXBpbmRleCkudG9TdHJpbmcoKSArIG4udG9TdHJpbmcoKVxyXG4gICAgKTtcclxuICB9XHJcbiAgY29uc3QgbmV3QnV0dG9uID0gY3VycmVudEJ1dHRvbi5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgY3VycmVudEJ1dHRvbi5yZXBsYWNlV2l0aChuZXdCdXR0b24pO1xyXG4gIG5ld0J1dHRvbi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBzaGlwTmFtZSk7XHJcblxyXG4gIGNvbnN0IGhvdmVyID0gKCkgPT4ge1xyXG4gICAgY29uc3Qgc2hpcHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLlwiICsgbmFtZUFycmF5WzJdKTtcclxuICAgIHNoaXBzLmZvckVhY2goKGVsZW1lbnQsIHNoaXBpbmRleCkgPT4ge1xyXG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJob3ZlclwiKTtcclxuICAgIH0pO1xyXG4gIH07XHJcbiAgY29uc3QgcmVtb3ZlaG92ZXIgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBzaGlwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuXCIgKyBuYW1lQXJyYXlbMl0pO1xyXG4gICAgc2hpcHMuZm9yRWFjaCgoZWxlbWVudCwgc2hpcGluZGV4KSA9PiB7XHJcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImhvdmVyXCIpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgaWYgKHNoaXBpbmRleCA9PSAwKSB7XHJcbiAgICBjb25zdCByb3RhdGVCdXR0b25TaGlwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCJpbWcucm90YXRlXCIgKyBuYW1lQXJyYXlbMl1cclxuICAgICk7XHJcbiAgICBpZiAocm90YXRlQnV0dG9uKSB7XHJcbiAgICAgIC8vIHJvdGF0ZUJ1dHRvbi5zdHlsZS5vcGFjaXR5ID0gMDtcclxuICAgICAgcm90YXRlQnV0dG9uU2hpcC5yZW1vdmUoKTtcclxuICAgICAgcm90YXRlQnV0dG9uLnJlbW92ZSgpO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgcm90YXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuICAgIHJvdGF0ZS5zcmMgPSByb3RhdGVpbWc7XHJcbiAgICByb3RhdGUuYWx0ID0gXCJyb3RhdGVcIjtcclxuICAgIHJvdGF0ZS5jbGFzc0xpc3QuYWRkKFwicm90YXRlXCIgKyBuYW1lQXJyYXlbMl0pO1xyXG4gICAgcm90YXRlLnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xyXG4gICAgcm90YXRlLnN0eWxlLm9wYWNpdHkgPSAxMDA7XHJcblxyXG4gICAgbmV3QnV0dG9uLmFwcGVuZENoaWxkKHJvdGF0ZSk7XHJcbiAgICB0cmlnZ2VyUm90YXRlKHJvdGF0ZSwgaSwgbiwgbmFtZUFycmF5WzJdKTtcclxuICB9XHJcblxyXG4gIG5ld0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCBob3Zlcik7XHJcbiAgbmV3QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIHJlbW92ZWhvdmVyKTtcclxuXHJcbiAgbmV3QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c2luXCIsIChlKSA9PiB7XHJcbiAgICBjb25zdCBzaGlwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuXCIgKyBuYW1lQXJyYXlbMl0pO1xyXG4gICAgc2hpcHMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xyXG4gICAgICBlbGVtZW50LmRyYWdnYWJsZSA9IHRydWU7XHJcbiAgICB9KTtcclxuICAgIG5ld0J1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCByZW1vdmVob3Zlcik7XHJcbiAgfSk7XHJcblxyXG4gIG5ld0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNvdXRcIiwgKCkgPT4ge1xyXG4gICAgY29uc3Qgc2hpcHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLlwiICsgbmFtZUFycmF5WzJdKTtcclxuICAgIHNoaXBzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcclxuICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwic2VsZWN0ZWRcIik7XHJcbiAgICAgIGVsZW1lbnQuZHJhZ2dhYmxlID0gZmFsc2U7XHJcbiAgICB9KTtcclxuICAgIG5ld0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCByZW1vdmVob3Zlcik7XHJcbiAgfSk7XHJcblxyXG4gIG5ld0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ2VuZFwiLCAoKSA9PiB7XHJcbiAgICBjb25zdCBzaGlwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuXCIgKyBuYW1lQXJyYXlbMl0pO1xyXG4gICAgc2hpcHMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xyXG4gICAgICBlbGVtZW50LmRyYWdnYWJsZSA9IHRydWU7XHJcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInNlbGVjdGVkXCIpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbiAgbmV3QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnc3RhcnRcIiwgKCkgPT4ge1xyXG4gICAgY29uc3Qgc2hpcHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLlwiICsgbmFtZUFycmF5WzJdKTtcclxuICAgIHNoaXBzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcclxuICAgICAgZWxlbWVudC5kcmFnZ2FibGUgPSB0cnVlO1xyXG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJzZWxlY3RlZFwiKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBuZXdCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBtb3VzZVVwKTtcclxufVxyXG5cclxuZnVuY3Rpb24gdHJpZ2dlclJvdGF0ZShlbCwgaSwgbiwgbmFtZSkge1xyXG4gIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgY29uc3Qgc2hpcHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLlwiICsgbmFtZSk7XHJcbiAgICAvL2NoZWNrIGlmIHNoaXBzIGhhcyBzcGFjZSB0byByb3RhdGVcclxuICAgIGZvciAobGV0IHNoaXBpbmRleCA9IDA7IHNoaXBpbmRleCA8IHNoaXBzLmxlbmd0aDsgc2hpcGluZGV4KyspIHtcclxuICAgICAgY29uc3QgZWxlbWVudCA9IHNoaXBzW3NoaXBpbmRleF07XHJcbiAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImhvcml6b250YWxcIikpIHtcclxuICAgICAgICBpZiAoaSAtIDEgKyBzaGlwcy5sZW5ndGggPj0gMTApIHtcclxuICAgICAgICAgIHJldHVybiBcIm5vdCB2YWxpZFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJ2ZXJ0aWNhbFwiKSkge1xyXG4gICAgICAgIGlmIChuIC0gMSArIHNoaXBzLmxlbmd0aCA+PSAxMCkge1xyXG4gICAgICAgICAgcmV0dXJuIFwibm90IHZhbGlkXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImhvdmVyXCIpO1xyXG4gICAgICBzd2l0Y2ggKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaG9yaXpvbnRhbFwiKSkge1xyXG4gICAgICAgIGNhc2UgdHJ1ZTpcclxuICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImhvcml6b250YWxcIik7XHJcbiAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ2ZXJ0aWNhbFwiKTtcclxuICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInNlbGVjdGVkXCIpO1xyXG5cclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIGZhbHNlOlxyXG4gICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwidmVydGljYWxcIik7XHJcbiAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJob3Jpem9udGFsXCIpO1xyXG4gICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwic2VsZWN0ZWRcIik7XHJcblxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIG9uRHJvcChlLCBpLCBuKTtcclxuICB9KTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gcmVuZGVyU2VsZWN0aW9uKHNoaXBMaXN0KSB7XHJcbiAgY29uc3QgZ3JpZGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgZ3JpZGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZ3JpZC1jb250YWluZXJcIik7XHJcbiAgZ3JpZGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwic2hpcC1jb250YWluZXJcIik7XHJcbiAgZ3JpZGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcIm15LWJvYXJkXCIpO1xyXG4gIGdyaWRjb250YWluZXIuc3R5bGUucmlnaHQgPSBcIjEwJVwiO1xyXG4gIGdyaWRjb250YWluZXIuc3R5bGUudG9wID0gXCIzMCVcIjtcclxuICBmdW5yYWNrKGdyaWRjb250YWluZXIsIGdhbWVib2FyZE5vZGUpO1xyXG5cclxuICBncmlkY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGUpID0+XHJcbiAgICBtb3VzZURvd24oZSwgZ3JpZGNvbnRhaW5lcilcclxuICApO1xyXG5cclxuICBzaGlwTGlzdC5mb3JFYWNoKChzaGlwKSA9PiB7XHJcbiAgICBncmlkY29udGFpbmVyLmFwcGVuZENoaWxkKGRyYWdBYmxlU2hpcChzaGlwKSk7XHJcbiAgfSk7XHJcblxyXG4gIGdhbWVib2FyZE5vZGUuYXBwZW5kQ2hpbGQoZ3JpZGNvbnRhaW5lcik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRyYWdBYmxlU2hpcChzaGlwKSB7XHJcbiAgY29uc3Qgc2hpcENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgY29uc3Qgc2hpcEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIHNoaXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJzaGlwLWNvbnRhaW5lci1zZWxlY3Rpb25cIik7XHJcblxyXG4gIGNvbnN0IHJvdGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcbiAgcm90YXRlLnNyYyA9IHJvdGF0ZWltZztcclxuICByb3RhdGUuYWx0ID0gXCJyb3RhdGVcIjtcclxuICByb3RhdGUuc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XHJcbiAgc2hpcENvbnRhaW5lci5hcHBlbmRDaGlsZChyb3RhdGUpO1xyXG5cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXAubGVuZ3RoOyBpKyspIHtcclxuICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgICBidXR0b24uY2xhc3NMaXN0LmFkZChcImdyaWQtYnV0dG9uXCIpO1xyXG4gICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJncmlkLWJ1dHRvbi1zaGlwXCIpO1xyXG4gICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoc2hpcC5uYW1lKTtcclxuICAgIHJvdGF0ZS5jbGFzc0xpc3QuYWRkKFwicm90YXRlXCIgKyBzaGlwLm5hbWUpO1xyXG4gICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJob3Jpem9udGFsXCIpO1xyXG4gICAgYnV0dG9uLnNldEF0dHJpYnV0ZShcImlkXCIsIFwic2VsZWN0aW9uXCIgKyBpKTtcclxuICAgIHNoaXBFbGVtZW50LmRyYWdnYWJsZSA9IHRydWU7XHJcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBtb3VzZVVwKTtcclxuXHJcbiAgICByb3RhdGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICAgIHN3aXRjaCAoYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucyhcImhvcml6b250YWxcIikpIHtcclxuICAgICAgICBjYXNlIHRydWU6XHJcbiAgICAgICAgICBzaGlwRWxlbWVudC5zdHlsZS5mbGV4RGlyZWN0aW9uID0gXCJjb2x1bW5cIjtcclxuICAgICAgICAgIHNoaXBDb250YWluZXIuc3R5bGUuZmxleERpcmVjdGlvbiA9IFwicm93XCI7XHJcbiAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImhvcml6b250YWxcIik7XHJcbiAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZChcInZlcnRpY2FsXCIpO1xyXG5cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgZmFsc2U6XHJcbiAgICAgICAgICBzaGlwRWxlbWVudC5zdHlsZS5mbGV4RGlyZWN0aW9uID0gXCJyb3dcIjtcclxuICAgICAgICAgIHNoaXBDb250YWluZXIuc3R5bGUuZmxleERpcmVjdGlvbiA9IFwiY29sdW1uXCI7XHJcbiAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZShcInZlcnRpY2FsXCIpO1xyXG4gICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJob3Jpem9udGFsXCIpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHNoaXBDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgKCkgPT4ge1xyXG4gICAgICByb3RhdGUuc3R5bGUub3BhY2l0eSA9IDEwMDtcclxuICAgIH0pO1xyXG5cclxuICAgIHNoaXBDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgKCkgPT4ge1xyXG4gICAgICByb3RhdGUuc3R5bGUub3BhY2l0eSA9IDA7XHJcbiAgICB9KTtcclxuXHJcbiAgICBzaGlwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNpblwiLCAoKSA9PiB7XHJcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiaG92ZXJcIik7XHJcbiAgICB9KTtcclxuXHJcbiAgICBzaGlwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNvdXRcIiwgKCkgPT4ge1xyXG4gICAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImhvdmVyXCIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgc2hpcEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdlbmRcIiwgKCkgPT4ge1xyXG4gICAgICBzaGlwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiZHJhZ1wiKTtcclxuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJzZWxlY3RlZFwiKTtcclxuICAgIH0pO1xyXG4gICAgc2hpcEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdzdGFydFwiLCAoKSA9PiB7XHJcbiAgICAgIHNoaXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJkcmFnXCIpO1xyXG4gICAgICBidXR0b24uY2xhc3NMaXN0LmFkZChcInNlbGVjdGVkXCIpO1xyXG4gICAgfSk7XHJcbiAgICBzaGlwRWxlbWVudC5hcHBlbmRDaGlsZChidXR0b24pO1xyXG4gICAgc2hpcENvbnRhaW5lci5hcHBlbmRDaGlsZChzaGlwRWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gc2hpcENvbnRhaW5lcjtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gcmVuZGVyRW5lbXlCb2FyZChwbGF5ZXIpIHtcclxuICBjb25zdCBncmlkY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBncmlkY29udGFpbmVyLnN0eWxlLnJpZ2h0ID0gXCIxMCVcIjtcclxuICBncmlkY29udGFpbmVyLnN0eWxlLnRvcCA9IFwiMzAlXCI7XHJcbiAgZ3JpZGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZ3JpZC1jb250YWluZXJcIik7XHJcbiAgZ3JpZGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImVuZW15LWJvYXJkXCIpO1xyXG4gIGZ1bnJhY2soZ3JpZGNvbnRhaW5lciwgZ2FtZWJvYXJkTm9kZSk7XHJcbiAgZ3JpZGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChlKSA9PlxyXG4gICAgbW91c2VEb3duKGUsIGdyaWRjb250YWluZXIpXHJcbiAgKTtcclxuICByZXNldFhZKCk7XHJcblxyXG4gIHBsYXllci5lbmVteWJvYXJkLm15Qm9hcmQuZm9yRWFjaCgocm93LCByb3dpZCkgPT4ge1xyXG4gICAgcm93LmZvckVhY2goKGJveCwgYm94aWQpID0+IHtcclxuICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJncmlkLWJ1dHRvblwiKTtcclxuICAgICAgYnV0dG9uLmlkID0gXCJlbmVteVwiICsgcm93aWQudG9TdHJpbmcoKSArIGJveGlkLnRvU3RyaW5nKCk7XHJcbiAgICAgIGNvbG9ySW5kaWNhdG9yKGJveFswXSwgYnV0dG9uKTtcclxuXHJcbiAgICAgIGNvbnN0IGNvcmQgPSBbcm93aWQsIGJveGlkXTtcclxuXHJcbiAgICAgIGNvbnN0IGF0dGFja29uQm94ID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIGlmIChwbGF5ZXIuaXNUdXJuID09PSB0cnVlKSB7XHJcbiAgICAgICAgICBzd2l0Y2ggKHBsYXllci5hdHRhY2tUYXJnZXQocGxheWVyLm9wcG9uZW50LCBjb3JkKSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiaGl0XCI6XHJcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBcIkhJVCFcIjtcclxuICAgICAgICAgICAgICBidXR0b24udGV4dENvbnRlbnQgPSBcIk9cIjtcclxuICAgICAgICAgICAgICBidXR0b24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ2YXIoLS1oaXQtY29sb3IpXCI7XHJcbiAgICAgICAgICAgICAgYnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhdHRhY2tvbkJveCk7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJtaXNzXCI6XHJcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBcIm1pc3MuLi5cIjtcclxuICAgICAgICAgICAgICBidXR0b24udGV4dENvbnRlbnQgPSBcIlhcIjtcclxuICAgICAgICAgICAgICBidXR0b24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ2YXIoLS1taXNzLWNvbG9yKVwiO1xyXG4gICAgICAgICAgICAgIGJ1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXR0YWNrb25Cb3gpO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiU1VOSyFcIjpcclxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IFwiQSBTSElQIEhBUyBTVU5LIVwiO1xyXG4gICAgICAgICAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IFwiIVwiO1xyXG4gICAgICAgICAgICAgIGJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInZhcigtLWhpdC1jb2xvcilcIjtcclxuICAgICAgICAgICAgICBidXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGF0dGFja29uQm94KTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZVJlbmRlcihcImVuZW15XCIsIHBsYXllci5lbmVteWJvYXJkKTtcclxuICAgICAgICAgIHR1cm5TdGF0ZShwbGF5ZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhdHRhY2tvbkJveCk7XHJcbiAgICAgIGdyaWRjb250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG4gIGdhbWVib2FyZE5vZGUuYXBwZW5kQ2hpbGQoZ3JpZGNvbnRhaW5lcik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbG9ySW5kaWNhdG9yKGluZGljYXRvciwgZWxlbWVudCkge1xyXG4gIHN3aXRjaCAoaW5kaWNhdG9yKSB7XHJcbiAgICBjYXNlIFwiT1wiOlxyXG4gICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gXCJPXCI7XHJcbiAgICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ2YXIoLS1oaXQtY29sb3IpXCI7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSBcIlhcIjpcclxuICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IFwiWFwiO1xyXG4gICAgICBlbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwidmFyKC0tbWlzcy1jb2xvcilcIjtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIFwiIVwiOlxyXG4gICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gXCIhXCI7XHJcbiAgICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ2YXIoLS1oaXQtY29sb3IpXCI7XHJcbiAgICAgIGJyZWFrO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gYWRkU3RhcnRCdXR0b24ocGxheWVyKSB7XHJcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3RhcnRcIikpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcbiAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICBidXR0b24udGV4dENvbnRlbnQgPSBcIlNUQVJUXCI7XHJcbiAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmF0ZVwiKTtcclxuICBidXR0b24uY2xhc3NMaXN0LmFkZChcInN0YXJ0XCIpO1xyXG4gIGJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICBcImNsaWNrXCIsXHJcbiAgICAoKSA9PiB7XHJcbiAgICAgIHRyYW5zbGF0ZVRvRGVmYXVsdEJvYXJkKHBsYXllcik7XHJcbiAgICAgIGJhdHRsZXNoaXBHYW1lcGxheShwbGF5ZXIpO1xyXG4gICAgfSxcclxuICAgIHsgb25jZTogdHJ1ZSB9XHJcbiAgKTtcclxuICBoZWFkZXIuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVwbGF5QnV0dG9uKCkge1xyXG4gIGNvbnN0IHJlc3RhcnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gIHJlc3RhcnQudGV4dENvbnRlbnQgPSBcIlJFUExBWVwiO1xyXG4gIHJlc3RhcnQuY2xhc3NMaXN0LmFkZChcInJlcGxheVwiKTtcclxuICByZXN0YXJ0LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmF0ZVwiKTtcclxuICByZXN0YXJ0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgfSk7XHJcbiAgaGVhZGVyLmFwcGVuZENoaWxkKHJlc3RhcnQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0cmFuc2xhdGVUb0RlZmF1bHRCb2FyZChwbGF5ZXIpIHtcclxuICBwbGF5ZXIuZ2FtZWJvYXJkLmxpc3RPZlNoaXBzLmZvckVhY2goKHNoaXApID0+IHtcclxuICAgIGNvbnN0IGNvb3JkID0gZ2V0U2hpcENvb3JkaW5hdGUoc2hpcCk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvb3JkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHBsYXllci5nYW1lYm9hcmQudXBkYXRlQ29vcmRpbmF0ZShzaGlwLCBjb29yZFtpXVswXSwgY29vcmRbaV1bMV0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRTaGlwQ29vcmRpbmF0ZShzaGlwKSB7XHJcbiAgY29uc3QgY29vcmRpbmF0ZXMgPSBbXTtcclxuICBjb25zdCBzaGlwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuXCIgKyBzaGlwLm5hbWUpO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcHMubGVuZ3RoOyBpKyspIHtcclxuICAgIGxldCBuYW1lQXJyYXkgPSBzaGlwc1tpXS5pZC5zcGxpdChcIlwiKTtcclxuICAgIGNvb3JkaW5hdGVzLnB1c2goW25hbWVBcnJheVs1XSwgbmFtZUFycmF5WzZdXSk7XHJcbiAgfVxyXG4gIHJldHVybiBjb29yZGluYXRlcztcclxufVxyXG5cclxuZnVuY3Rpb24gY2hlY2tTZWxlY3Rpb25Cb2FyZCgpIHtcclxuICBjb25zdCBzZWxlY3Rpb25ib2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2hpcC1jb250YWluZXItc2VsZWN0aW9uXCIpO1xyXG4gIGxldCBpc0VtcHR5ID0gdHJ1ZTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdGlvbmJvYXJkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBjb25zdCBjdXJyZW50Q29udGFpbmVyID0gc2VsZWN0aW9uYm9hcmRbaV07XHJcbiAgICBjdXJyZW50Q29udGFpbmVyLmNoaWxkTm9kZXMuZm9yRWFjaCgoY2hpbGQpID0+IHtcclxuICAgICAgaWYgKGNoaWxkLmNsYXNzTGlzdC5jb250YWlucyhcImdyaWQtYnV0dG9uLXNoaXBcIikpIHtcclxuICAgICAgICBpc0VtcHR5ID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICByZXR1cm4gaXNFbXB0eTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVSZW5kZXIoYm9hcmRTdHJpbmcsIGdhbWVib2FyZCkge1xyXG4gIGdhbWVib2FyZC5teUJvYXJkLmZvckVhY2goKHJvdywgcm93aWQpID0+IHtcclxuICAgIHJvdy5mb3JFYWNoKChib3gsIGJveGlkKSA9PiB7XHJcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgKFwiI1wiICsgYm9hcmRTdHJpbmcgKyByb3dpZC50b1N0cmluZygpICsgYm94aWQudG9TdHJpbmcoKSkudG9TdHJpbmcoKVxyXG4gICAgICApO1xyXG4gICAgICBjb2xvckluZGljYXRvcihib3gsIGJ1dHRvbik7XHJcbiAgICB9KTtcclxuICB9KTtcclxufVxyXG5cclxuZXhwb3J0IHsgcmVuZGVyR2FtZWJvYXJkLCByZVJlbmRlciB9O1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/render.js\n");

/***/ }),

/***/ "./src/rotate.svg":
/*!************************!*\
  !*** ./src/rotate.svg ***!
  \************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "32d790d17022a34384eb.svg";

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		var scriptUrl;
/******/ 		if (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";
/******/ 		var document = __webpack_require__.g.document;
/******/ 		if (!scriptUrl && document) {
/******/ 			if (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')
/******/ 				scriptUrl = document.currentScript.src;
/******/ 			if (!scriptUrl) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				if(scripts.length) {
/******/ 					var i = scripts.length - 1;
/******/ 					while (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;
/******/ 				}
/******/ 			}
/******/ 		}
/******/ 		// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 		// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 		if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 		scriptUrl = scriptUrl.replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 		__webpack_require__.p = scriptUrl;
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	
/******/ })()
;